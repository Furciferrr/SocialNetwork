(this["webpackJsonpkabzda-1"]=this["webpackJsonpkabzda-1"]||[]).push([[0],{124:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return d}));var r=n(217),c=Object(r.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),a=function(e){return e.usersPage.currentPage},s=function(e){return e.usersPage.pageSize},i=function(e){return e.usersPage.usersTotalCount},o=function(e){return e.usersPage.isFetching},u=function(e){return e.usersPage.followingProgress},l=function(e){return e.usersPage.filter},j=function(e){return e.auth.isAuth},d=function(e){return e.auth.login}},151:function(e,t,n){e.exports={news:"News_news__16vR8",clear:"News_clear__29u6V"}},152:function(e,t,n){e.exports={wrapperSpin:"preloader_wrapperSpin__QsBk-",ldsRipple:"preloader_ldsRipple__1xFyQ","lds-ripple":"preloader_lds-ripple__1l7Y-"}},185:function(e,t,n){"use strict";t.a=n.p+"static/media/users.11231a30.png"},206:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"e",(function(){return k}));var r=n(19),c=n.n(r),a=n(32),s=n(75),i=n(6),o=n(29),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.c.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},l=function(e){return o.c.delete("follow/".concat(e)).then((function(e){return e.data}))},j=function(e){return o.c.post("follow/".concat(e)).then((function(e){return e.data}))},d={users:[],currentPage:1,pageSize:4,usersTotalCount:0,isFetching:!1,followingProgress:[],filter:{term:"",friend:null}},b=function(e){return{type:"USERS/FOLLOW",userId:e}},p=function(e){return{type:"USERS/UNFOLLOW",userId:e}},f=function(e){return{type:"USERS/SET_USERS",users:e}},h=function(e){return{type:"USERS/SET_CURRENT_PAGE",pageNumber:e}},O=function(e){return{type:"USERS/SET_USER_TOTAL_COUNT",totalUser:e}},m=function(e){return{type:"USERS/TOGGLE_IS_FETCHING",isFetching:e}},g=function(e,t){return{type:"USERS/TOGGLE_IS_FOLLOWING_PROGRESS",followingProgress:e,userId:t}},x=function(e){return{type:"USERS/SET_FILTER",payload:e}},v=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function r(a){var s;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(m(!0)),a(x(n)),r.next=4,u(e,t,n.term,n.friend);case 4:s=r.sent,a(m(!1)),a(f(s.items)),a(O(s.totalCount));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},S=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function r(a){var s;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(h(e)),a(m(!0)),a(x(n)),r.next=5,u(e,t,n.term,n.friend);case 5:s=r.sent,a(m(!1)),a(f(s.items));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(g(!0,e)),t.next=3,j(e);case 3:0===t.sent.resultCode&&n(b(e)),n(g(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(g(!0,e)),t.next=3,l(e);case 3:0===t.sent.resultCode&&n(p(e)),n(g(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case"USERS/UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case"USERS/SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"USERS/SET_CURRENT_PAGE":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.pageNumber});case"USERS/SET_USER_TOTAL_COUNT":return Object(i.a)(Object(i.a)({},e),{},{usersTotalCount:t.totalUser});case"USERS/TOGGLE_IS_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case"USERS/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(i.a)(Object(i.a)({},e),{},{followingProgress:t.followingProgress?[].concat(Object(s.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});case"USERS/SET_FILTER":return Object(i.a)(Object(i.a)({},e),{},{filter:t.payload});default:return e}}},211:function(e,t,n){e.exports={music:"Music_music__240Pk"}},213:function(e,t,n){e.exports={settings:"Settings_settings__d9j1V"}},214:function(e,t,n){e.exports={content:"Content_content__27TYr",avatar:"Content_avatar__1eH8z"}},215:function(e,t,n){e.exports={posts:"MyPosts_posts__y6SLq"}},216:function(e,t,n){e.exports={post:"Post_post__3UzhK",item:"Post_item__2v9Uw"}},261:function(e,t,n){},262:function(e,t,n){},29:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r,c,a=n(212),s=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c3824144-a684-4fa7-836c-9c70cb84d6fb"}});!function(e){e[e.Succes=0]="Succes",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(c||(c={}))},452:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),s=n(28),i=n.n(s),o=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,478)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},u=(n(261),n(110)),l=n(111),j=n(121),d=n(120),b=(n(262),n(62)),p=n.n(b),f=n(36),h=function(e){var t="/dialogs/"+e.id;return Object(r.jsxs)("div",{className:p.a.dialog,children:[Object(r.jsx)("img",{src:e.dialogAvaLink,alt:"ava"}),Object(r.jsx)(f.c,{to:t,children:e.name})]})},O=function(e){return Object(r.jsx)("div",{className:p.a.message,children:e.message})},m=n(202),g=n(203),x=n(6),v=n(99),S=n(56),_=n.n(S),k=function(e){var t=e.input,n=e.meta,c=Object(v.a)(e,["input","meta"]),a=n.error&&n.touched;return Object(r.jsxs)("div",{className:_.a.formControl+" "+(a?_.a.error:""),children:[Object(r.jsx)("div",{children:Object(r.jsx)("textarea",Object(x.a)(Object(x.a)({},t),c))}),a&&Object(r.jsx)("span",{children:n.error})]})},w=function(e){var t=e.input,n=e.meta,c=Object(v.a)(e,["input","meta"]),a=n.error&&n.touched;return Object(r.jsxs)("div",{className:_.a.formControl+" "+(a?_.a.error:""),children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",Object(x.a)(Object(x.a)({},t),c))}),a&&Object(r.jsx)("span",{children:n.error})]})},P=function(e){if(!e)return"Field is required"},y=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},E=y(50),T=Object(g.a)({form:"dialogs"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{placeholder:"Message",name:"messageValue",component:k,validate:[P,E]})}),Object(r.jsx)("button",{children:"add message"})]})})),C=function(e){var t=e.messagesPage.dialogData.map((function(e){return Object(r.jsx)(h,{name:e.name,id:e.id,dialogAvaLink:e.dialogAvaLink},e.id)})),n=e.messagesPage.messagesData.map((function(e){return Object(r.jsx)(O,{message:e.message})}));return Object(r.jsxs)("div",{className:p.a.dialogs,children:[Object(r.jsx)("div",{className:p.a.dialogItems,children:t}),Object(r.jsx)("div",{className:p.a.messagesBlock,children:n}),Object(r.jsx)(T,{onSubmit:function(t){e.addMessageActionCreater(t.messageValue)}})]})},I=n(75),N="ADD-MESSAGE",L={dialogData:[{id:1,name:"Dimych",dialogAvaLink:"https://i.pinimg.com/236x/54/13/e2/5413e250d1eecb821fc49c3213d7d661--search.jpg"},{id:2,name:"Masha",dialogAvaLink:"https://bipbap.ru/wp-content/uploads/2018/02/1378847521_1806552374.jpg"},{id:3,name:"Sveta",dialogAvaLink:"https://sun9-17.userapi.com/impf/4WuzlR38g8VZ7SDAE26PZMvN8ymWBgFKfvnJcg/mh2Zr1zacro.jpg?size=200x0&quality=90&crop=22,0,560,580&sign=ce0a6e9cd38861cbf30a89d01eb50ce1&ava=1"},{id:4,name:"Saha",dialogAvaLink:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCo1Qx_f-i5jibEv8Aa7D5lOYSClFPsq6b8g&usqp=CAU"},{id:5,name:"Vadim",dialogAvaLink:"https://sun9-58.userapi.com/impf/c627624/v627624661/2fe3/b_qSlC2kZIo.jpg?size=200x0&quality=90&crop=0,0,501,604&sign=f020e3d674d8d1299729deee44221885&ava=1"}],messagesData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"What the fuck?"}],chengeMessage:""},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(x.a)(Object(x.a)({},e),{},{chengeMessage:"",messagesData:[].concat(Object(I.a)(e.messagesData),[{id:e.messagesData.length+1,message:t.message}])});default:return e}},A=n(22),F=n(27),U=function(e){return{isAuth:e.auth.isAuth}};function D(e){return Object(A.b)(U)((function(t){var n=t.isAuth,c=Object(v.a)(t,["isAuth"]);return n?Object(r.jsx)(e,Object(x.a)({},c)):Object(r.jsx)(F.a,{to:"/login"})}))}var M=n(23),z=Object(M.d)(Object(A.b)((function(e){return{messagesPage:e.messagesPage}}),{addMessageActionCreater:function(e){return{type:N,message:e}}}),D)(C),G="REPOST",q="UNREPOST",H={news:[{id:1,repost:!0,author:"\u0421\u0442\u0435\u043f\u0430\u043d \u041f\u0443\u0442\u0438\u043b\u043e",title:"\u0416\u044b\u0432\u0435 \u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c!",body:"\u041f\u0430\u0442\u0440\u0438\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043b\u043e\u0437\u0443\u043d\u0433-\u0434\u0435\u0432\u0438\u0437, \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043d\u0430 \u043f\u0440\u043e\u0431\u0443\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e-\u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0445 \u0447\u0443\u0432\u0441\u0442\u0432, \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0446\u0438\u044e \u043d\u0430\u0440\u043e\u0434\u0430 \u0411\u0435\u043b\u043e\u0440\u0443\u0441\u0441\u0438\u0438 \u043d\u0430 \u0437\u0430\u0449\u0438\u0442\u0443 \u0441\u0432\u043e\u0431\u043e\u0434\u044b, \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0432\u043e\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u044b, \u0440\u043e\u0434\u043d\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430, \u0432\u0441\u0435\u0439 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u044b.",image:"https://pbs.twimg.com/profile_images/637374236/305341222_400x400.jpg"},{id:2,repost:!1,author:"\u0412\u0438\u043a\u0442\u043e\u0440 \u0411\u0430\u0431\u0430\u0440\u0438\u043a\u043e",title:"\u041f\u043e\u0431\u0435\u0434\u0430 \u0431\u043b\u0438\u0437\u043a\u043e!",body:"\u0411\u0435\u043b\u043e\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0431\u0430\u043d\u043a\u0438\u0440, \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0438 \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c, \u0432 2020 \u0433\u043e\u0434\u0443 \u0432\u044b\u0434\u0432\u0438\u0433\u0430\u0432\u0448\u0438\u0439 \u0441\u0432\u043e\u044e \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0443\u0440\u0443 \u043d\u0430 \u043f\u043e\u0441\u0442 \u043f\u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u0430 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c, \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0437\u0430\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u0439, \u043c\u0435\u0446\u0435\u043d\u0430\u0442. \u0417\u0430\u0434\u0435\u0440\u0436\u0430\u043d 18 \u0438\u044e\u043d\u044f 2020.",image:"https://pbs.twimg.com/profile_images/1293684186470125568/_bp0VdeG_400x400.jpg"}]},V=function(e){return{type:G,userId:e}},W=function(e){return{type:q,userId:e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(x.a)(Object(x.a)({},e),{},{news:e.news.map((function(e){return e.id===t.userId?Object(x.a)(Object(x.a)({},e),{},{repost:!0}):e}))});case q:return Object(x.a)(Object(x.a)({},e),{},{news:e.news.map((function(e){return e.id===t.userId?Object(x.a)(Object(x.a)({},e),{},{repost:!1}):e}))});default:return e}},Z=n(151),J=n.n(Z),K=function(e){var t=e.news.map((function(e){return Object(r.jsxs)("div",{className:J.a.news,children:[Object(r.jsx)("img",{src:e.image,alt:"newsimg"}),Object(r.jsx)("h3",{children:e.title}),Object(r.jsx)("div",{children:e.body}),Object(r.jsx)("div",{className:J.a.clear}),Object(r.jsx)("div",{children:e.author})]},e.id)}));return Object(r.jsx)("div",{children:t})},Y=Object(A.b)((function(e){return{news:e.newsPage.news}}),(function(e){return{repost:function(){e(V)},unrepost:function(){e(W)}}}))(K),Q=n(211),X=n.n(Q),$=Object(g.a)({form:"musicForm"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{name:"lastName",component:"input",type:"text"})}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{name:"firstName",component:"input",type:"text"})}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{name:"email",component:"input",type:"email"})}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})})),ee=function(e){return Object(r.jsx)("div",{className:X.a.music,children:Object(r.jsx)($,{onSubmit:function(e){console.log(e)}})})},te=n(19),ne=n.n(te),re=n(32),ce=n(29),ae=n(51),se=function(){return ce.c.get("auth/me").then((function(e){return e.data}))},ie=function(e){return ce.c.post("/auth/login",{email:e.email,password:e.password,rememberMe:e.rememberMe,captcha:e.captcha}).then((function(e){return e.data}))},oe=function(){return ce.c.delete("auth/login")},ue=function(){return ce.c.get("security/get-captcha-url").then((function(e){return e.data}))},le="auth/SET_USER_DATA",je="autn/SET_LOGIN_USER_ID",de="SET_CAPTCHA_URL",be={userId:null,email:null,login:null,isAuth:!1,captchaURL:null},pe=function(e,t,n,r){return{type:le,payload:{userId:e,email:t,login:n,isAuth:r}}},fe=function(e){return{type:de,captchaURL:e}},he=function(){return function(){var e=Object(re.a)(ne.a.mark((function e(t){var n,r,c,a,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:(n=e.sent).resultCode===ce.a.Succes&&(r=n.data,c=r.id,a=r.email,s=r.login,t(pe(c,a,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=function(){return function(){var e=Object(re.a)(ne.a.mark((function e(t){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:n=e.sent,r=n.url,t(fe(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(x.a)(Object(x.a)({},e),t.payload);case je:return Object(x.a)(Object(x.a)({},e),{},{userId:t.userId});case de:return Object(x.a)(Object(x.a)({},e),{},{captchaURL:t.captchaURL});default:return e}},ge=Object(g.a)({form:"login"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{placeholder:"Email",name:"email",component:w,validate:[P]})}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{placeholder:"Password",name:"password",component:w,validate:[P],type:"password"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(m.a,{type:"checkbox",name:"remembeMe",component:w}),Object(r.jsx)("span",{children:"remember me"})]}),e.captcha&&Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:e.captcha,alt:"captcha"}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{placeholder:"captcha",name:"captcha",component:w,validate:[P]})})]}),Object(r.jsxs)("div",{children:[e.error&&Object(r.jsx)("div",{className:_.a.errorLogin,children:e.error}),Object(r.jsx)("button",{children:"Login"})]})]})})),xe=function(){var e=Object(A.d)((function(e){return e.auth.captchaURL})),t=Object(A.d)((function(e){return e.auth.isAuth})),n=Object(A.c)();return t?Object(r.jsx)(F.a,{to:"/Profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)(ge,{onSubmit:function(e){n(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(n){var r,c,a;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(e);case 2:(r=t.sent).resultCode===ce.a.Succes?n(he()):(r.resultCode===ce.b.CaptchaIsRequired&&n(Oe()),c=r.messages.length>0?r.messages:"some error",a=Object(ae.a)("login",{_error:c}),n(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},captcha:e})]})},ve=n(54),Se=n(213),_e=n.n(Se),ke="SET_CHOISE_SUMM",we={choiseSumm:""},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(x.a)(Object(x.a)({},e),{},{choiseSumm:t.summ});default:return e}},ye=Object(A.b)((function(e){return{summ:e.setting.choiseSumm}}),{setSummAC:function(e){return{type:ke,summ:e}}})((function(e){var t=Object(c.useState)(0),n=Object(ve.a)(t,2),a=n[0],s=n[1];return Object(r.jsxs)("div",{className:_e.a.settings,children:[Object(r.jsxs)("h1",{children:["Your Choise: ",Object(r.jsx)("span",{children:e.summ})]}),Object(r.jsxs)("div",{children:["Current summ value: ",Object(r.jsx)("span",{children:a})]}),Object(r.jsx)("input",{type:"range",min:"0",max:"100",value:a,onChange:function(e){s(e.currentTarget.value)}}),Object(r.jsx)("button",{onClick:function(t){e.setSummAC(a)},children:"Confirm"}),Object(r.jsx)("button",{onClick:function(){e.setSummAC(0)},children:"Clear"})]})})),Ee=n(214),Te=n.n(Ee),Ce=function(e){return ce.c.get("profile/".concat(e)).then((function(e){return e.data}))},Ie=function(e){return ce.c.get("profile/status/"+e).then((function(e){return e.data}))},Ne=function(e){return ce.c.put("profile/status",{status:e}).then((function(e){return e.data}))},Le=function(e){var t=new FormData;return t.append("image",e),ce.c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},Re=function(e){return ce.c.put("profile",e).then((function(e){return e.data}))},Ae={postsData:[{id:1,message:"Hi, bro..,",likeNumb:32,avaLink:"https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg"},{id:2,message:"Hello world!",likeNumb:20,avaLink:"https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg"}],userProfile:null,status:""},Fe=function(e){return{type:"SN/PROFILE/ADD-POST",postMessage:e}},Ue=function(e){return{type:"SN/PROFILE/SET_USER_PROFILE",userProfile:e}},De=function(e){return{type:"SN/PROFILE/SET_STATUS",status:e}},Me=function(e){return{type:"SN/PROFILE/SAVE_PHOTO_SUCCES",photos:e}},ze=function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(n){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce(e).then((function(e){n(Ue(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROFILE/ADD-POST":var n={id:5,message:t.postMessage,likeNumb:0,avaLink:"https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg"};return Object(x.a)(Object(x.a)({},e),{},{postsData:[].concat(Object(I.a)(e.postsData),[n])});case"SN/PROFILE/SET_USER_PROFILE":return Object(x.a)(Object(x.a)({},e),{},{userProfile:t.userProfile});case"SN/PROFILE/SET_STATUS":return Object(x.a)(Object(x.a)({},e),{},{status:t.status});case"SN/PROFILE/SAVE_PHOTO_SUCCES":return Object(x.a)(Object(x.a)({},e),{},{userProfile:Object(x.a)(Object(x.a)({},e.userProfile),{},{photos:t.photos})});case"SN/PROFILE/DELETE_POST":return Object(x.a)(Object(x.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.postId}))});default:return e}},qe=n(215),He=n.n(qe),Ve=n(216),We=n.n(Ve),Be=function(e){return Object(r.jsxs)("div",{className:We.a.post,children:[Object(r.jsx)("img",{alt:"ava",src:e.avalink}),e.message,Object(r.jsxs)("div",{children:["Like",Object(r.jsx)("span",{children:"  "}),Object(r.jsx)("span",{children:e.likenumb})]})]})},Ze=y(30),Je=Object(g.a)({form:"posts"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{name:"postMessage",component:k,placeholder:"write here",validate:[P,Ze]})}),Object(r.jsx)("button",{children:"add post"})]})})),Ke=function(e){var t=e.contentPage.postsData.map((function(e){return Object(r.jsx)(Be,{message:e.message,likenumb:e.likeNumb,avalink:e.avaLink},e.id)}));return Object(r.jsxs)("div",{className:He.a.posts,children:["My posts",Object(r.jsx)(Je,{onSubmit:function(t){e.addPostAction(t.postMessage)}}),t]})},Ye=Object(A.b)((function(e){return{contentPage:e.contentPage}}),(function(e){return{addPostAction:function(t){e(Fe(t))}}}))(Ke),Qe=n(74),Xe=n(83),$e=n.n(Xe),et=n(185),tt=function(e){var t=Object(c.useState)(!1),n=Object(ve.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(e.status),o=Object(ve.a)(i,2),u=o[0],l=o[1];return Object(c.useEffect)((function(){l(e.status)}),[e.status]),Object(r.jsxs)("div",{children:[!a&&Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status?e.status:"Not status"})}),a&&Object(r.jsx)("div",{children:Object(r.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){s(!1),e.updateStatusThunk(u)},value:u})})]})},nt=Object(g.a)({form:"ProfileData"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(r.jsx)("div",{className:_.a.errorLogin,children:e.error}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"Full name:"}),Object(r.jsx)(m.a,{placeholder:"Full name",name:"fullName",component:w})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"About me:"}),Object(r.jsx)(m.a,{placeholder:"About me",name:"aboutMe",component:w,type:"text"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"Looking for a job:"}),Object(r.jsx)(m.a,{type:"checkbox",name:"lookingForAJob",component:w})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"Skills:"}),Object(r.jsx)(m.a,{placeholder:"skils",name:"lookingForAJobDescription",component:k,type:"text"})]}),Object(r.jsxs)("div",{children:[" Contacts:",Object.keys(e.profile.contacts).map((function(e){return Object(r.jsxs)("div",{className:$e.a.contacts,children:[e,Object(r.jsx)(m.a,{placeholder:e,name:"contacts."+e,component:w})]},e)}))]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Save"})})]})})),rt=function(e){var t=e.contactTitle,n=e.contactValue;return Object(r.jsxs)("div",{children:[t," : ",n]})},ct=function(e){return Object(r.jsxs)("div",{children:[e.isOwner&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:function(){e.goToEditMode()},children:"edit"})}),Object(r.jsx)("div",{children:e.profile.aboutMe}),Object(r.jsxs)("div",{children:["\u043d\u0443\u0436\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430: ",e.profile.lookingForAJob?"Yes":"No"," "]}),e.profile.lookingForAJob&&Object(r.jsxs)("div",{children:["\u041d\u0430\u0432\u044b\u043a\u0438: ",e.profile.lookingForAJobDescription," "]}),Object(r.jsxs)("div",{className:$e.a.contacts,children:[" Contacts:",Object.keys(e.profile.contacts).map((function(t){return Object(r.jsx)(rt,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})},at=function(e){var t=Object(c.useState)(!1),n=Object(ve.a)(t,2),a=n[0],s=n[1];if(!e.profile)return Object(r.jsx)(Qe.a,{});return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:$e.a.avatar,alt:"ava",src:null!=e.profile.photos.large?e.profile.photos.large:et.a}),Object(r.jsx)("h3",{children:e.profile.fullName}),Object(r.jsx)(tt,{status:e.status,updateStatusThunk:e.updateStatusThunk}),Object(r.jsx)("div",{className:$e.a.clear}),e.isOwner&&Object(r.jsx)("input",{type:"file",onChange:function(t){var n;(null===(n=t.target.files)||void 0===n?void 0:n.length)&&e.savePhotoThunk(t.target.files[0])}}),a?Object(r.jsx)(nt,{onSubmit:function(t){e.setFormDataThunk(t).then((function(){s(!1)}))},profile:e.profile}):Object(r.jsx)(ct,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){s(!0)}})]})})},st=function(e){return Object(r.jsxs)("div",{className:Te.a.content,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{alt:"decorate",src:"https://apod.nasa.gov/apod/image/2008/PerseidBridge_Zhang_4032.jpg"})}),Object(r.jsx)(at,{profile:e.profile,status:e.status,updateStatusThunk:e.updateStatusThunk,isOwner:e.isOwner,savePhotoThunk:e.savePhotoThunk,setFormDataThunk:e.setFormDataThunk}),Object(r.jsx)(Ye,{})]})},it=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfileThunk(e),this.props.getStatusThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(r.jsx)(st,Object(x.a)(Object(x.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId}))}}]),n}(a.a.Component),ot=Object(M.d)(Object(A.b)((function(e){return{profile:e.contentPage.userProfile,status:e.contentPage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfileThunk:ze,getStatusThunk:function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(n){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie(e).then((function(e){n(De(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusThunk:function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(n){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne(e).then((function(t){0===t.resultCode&&n(De(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(n){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Le(e).then((function(e){0===e.resultCode&&n(Me(e.data.photos))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setFormDataThunk:function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(n,r){var c,a;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.userId,t.next=3,Re(e);case 3:if(0!==(a=t.sent).resultCode){t.next=8;break}n(ze(c)),t.next=10;break;case 8:return n(Object(ae.a)("ProfileData",{_error:a.messages[0]})),t.abrupt("return",Promise.reject(a.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),F.h,D)(it),ut="SN/APP/INITIALIZED_SUCCESS",lt={inizialized:!1},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(x.a)(Object(x.a)({},e),{},{inizialized:!0});default:return e}};function dt(e){return function(t){return Object(r.jsx)(a.a.Suspense,{fallback:Object(r.jsx)(Qe.a,{}),children:Object(r.jsx)(e,Object(x.a)({},t))})}}n(386);var bt=n(455),pt=n(457),ft=n(462),ht=n(463),Ot=n(464),mt=n(458),gt=n(459),xt=n(456),vt=n(460),St=n(461),_t=n(219),kt=n.n(_t),wt=n(124),Pt=function(e){var t=bt.a.Header,n=Object(c.useState)(!0),s=Object(ve.a)(n,2),i=s[0],o=s[1],u=Object(A.d)(wt.b),l=Object(A.d)(wt.d),j=Object(A.c)();return Object(r.jsx)(t,{className:"site-layout-background",style:{padding:0},children:Object(r.jsxs)(mt.a,{children:[Object(r.jsx)(gt.a,{span:16,children:a.a.createElement(i?vt.a:St.a,{className:"trigger",style:{fontSize:"28px",color:"white",marginLeft:"35px"},onClick:function(){o(!i),e.toggle()}})}),u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(gt.a,{span:1,children:Object(r.jsx)(kt.a,{style:{backgroundColor:"#87d068"},icon:Object(r.jsx)(ft.a,{})})}),Object(r.jsxs)(gt.a,{span:7,children:[Object(r.jsx)("span",{style:{color:"white",margin:"10px"},children:l}),Object(r.jsx)(xt.a,{onClick:function(){j(function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:e.sent.data.resultCode===ce.a.Succes&&t(pe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log Out"})]})]}):Object(r.jsxs)(gt.a,{span:6,children:[" ",Object(r.jsx)(f.c,{to:"/login",children:"Login"})," "]})]})})},yt=bt.a.Sider,Et=bt.a.Content,Tt=a.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,480))})),Ct=a.a.lazy((function(){return n.e(5).then(n.bind(null,479))})),It=dt(Tt),Nt=dt(Ct),Lt=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).toggle=function(){r.setState({collapsed:!r.state.collapsed})},r.state={collapsed:!1},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)(bt.a,{children:[Object(r.jsxs)(yt,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,collapsedWidth:80,children:[Object(r.jsx)("div",{className:"logo"}),Object(r.jsxs)(pt.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(r.jsx)(pt.a.Item,{icon:Object(r.jsx)(ft.a,{}),children:Object(r.jsx)(f.c,{to:"/profile",children:"Profile"})},"1"),Object(r.jsx)(pt.a.Item,{icon:Object(r.jsx)(ht.a,{}),children:Object(r.jsx)(f.c,{to:"/dialogs",children:"Messages"})},"2"),Object(r.jsx)(pt.a.Item,{icon:Object(r.jsx)(Ot.a,{}),children:Object(r.jsx)(f.c,{to:"/users",children:"Find Friends"})},"3"),Object(r.jsx)(pt.a.Item,{icon:Object(r.jsx)(Ot.a,{}),children:Object(r.jsx)(f.b,{to:"/chat",children:"Chat"})},"4")]})]}),Object(r.jsxs)(bt.a,{className:"site-layout",children:[Object(r.jsx)(Pt,{toggle:this.toggle}),Object(r.jsx)(Et,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(r.jsxs)(F.d,{children:[Object(r.jsx)(F.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(F.a,{to:"/profile"})}}),Object(r.jsx)(F.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(ot,{})}}),Object(r.jsx)(F.b,{path:"/dialogs",render:function(){return Object(r.jsx)(z,{})}}),Object(r.jsx)(F.b,{path:"/news",render:function(){return Object(r.jsx)(Y,{})}}),Object(r.jsx)(F.b,{path:"/music",render:function(){return Object(r.jsx)(ee,{})}}),Object(r.jsx)(F.b,{path:"/settings",render:function(){return Object(r.jsx)(ye,{})}}),Object(r.jsx)(F.b,{path:"/users",render:function(){return Object(r.jsx)(It,{})}}),Object(r.jsx)(F.b,{path:"/login",render:function(){return Object(r.jsx)(xe,{})}}),Object(r.jsx)(F.b,{path:"/chat",render:function(){return Object(r.jsx)(Nt,{})}}),Object(r.jsx)(F.b,{path:"*",render:function(){return Object(r.jsx)("div",{children:"404 NOT FOUND"})}})]})})]})]}):Object(r.jsx)(Qe.a,{})}}]),n}(a.a.Component),Rt=Object(M.d)(Object(A.b)((function(e){return{initialized:e.app.inizialized,bestFriends:e.bestFriends}}),{initializeAppThunk:function(){return function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(he()).then((function(){t({type:ut})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),F.h)(Lt),At={bestFriends:[{id:1,name:"Dimych",dialogAvaLink:"https://i.pinimg.com/236x/54/13/e2/5413e250d1eecb821fc49c3213d7d661--search.jpg"},{id:2,name:"Masha",dialogAvaLink:"https://bipbap.ru/wp-content/uploads/2018/02/1378847521_1806552374.jpg"},{id:3,name:"Sveta",dialogAvaLink:"https://sun9-17.userapi.com/impf/4WuzlR38g8VZ7SDAE26PZMvN8ymWBgFKfvnJcg/mh2Zr1zacro.jpg?size=200x0&quality=90&crop=22,0,560,580&sign=ce0a6e9cd38861cbf30a89d01eb50ce1&ava=1"}]},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return e},Ut=n(206),Dt=n(225),Mt=n(205),zt=Object(M.c)({contentPage:Ge,messagesPage:R,bestFriends:Ft,usersPage:Ut.a,newsPage:B,auth:me,form:Mt.a,app:jt,setting:Pe}),Gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.d,qt=Object(M.e)(zt,Gt(Object(M.a)(Dt.a)));window.store=qt;var Ht=qt,Vt=function(){i.a.render(Object(r.jsx)(f.a,{basename:"/SocialNetwork",children:Object(r.jsx)(A.a,{store:Ht,children:Object(r.jsx)(Rt,{})})}),document.getElementById("root"))};Vt(),Ht.subscribe((function(){Vt()})),o()},56:function(e,t,n){e.exports={formControl:"formsControl_formControl__2nT8T",error:"formsControl_error__1bztn",errorLogin:"formsControl_errorLogin__3Sxj2"}},62:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__13O1d",dialogItems:"Dialogs_dialogItems__1bvhd",dialog:"Dialogs_dialog__2XPZq",messagesBlock:"Dialogs_messagesBlock__3VQKH",message:"Dialogs_message__3AsAi"}},74:function(e,t,n){"use strict";var r=n(1),c=(n(0),n(152)),a=n.n(c);t.a=function(){return Object(r.jsx)("div",{className:a.a.wrapperSpin,children:Object(r.jsxs)("div",{className:a.a.ldsRipple,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})}},83:function(e,t,n){e.exports={content:"ProfileInfo_content__DyR0c",avatar:"ProfileInfo_avatar__14i1w",clear:"ProfileInfo_clear__2K0gG",contacts:"ProfileInfo_contacts__3q13R"}}},[[452,1,2]]]);
//# sourceMappingURL=main.5ed0c26d.chunk.js.map