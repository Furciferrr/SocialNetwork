{"version":3,"sources":["assets/images/users.png","components/Nav/Nav.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/Content/Content.module.css","components/Content/MyPosts/MyPosts.module.css","components/Content/MyPosts/Post/Post.module.css","api/api.js","components/common/FormsControl/formsControl.module.css","reportWebVitals.js","components/Header/Header.jsx","redax/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Nav/Nav.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormsControl/FormsControl.jsx","utils/validators/validator.js","components/Dialogs/Dialogs.jsx","redax/messagePage-reducer.js","components/hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","redax/news-reducer.js","components/News/News.jsx","components/News/conteinerNews.js","components/Music/Music.jsx","components/Login/Login.jsx","redax/settingPage-reducer.js","components/Settings/Settings.jsx","redax/contentPage-reducer.js","components/Content/MyPosts/Post/Post.jsx","components/Content/MyPosts/Myposts.jsx","components/Content/MyPosts/MypostsContainer.jsx","components/Content/ProfileInfo/ProfileStatus copy.jsx","components/Content/ProfileInfo/ProfileDataForm.jsx","components/Content/ProfileInfo/ProfileInfo.jsx","components/Content/Content.jsx","components/Content/ProfileContainer.js","redax/app-reducer.js","components/hoc/withSuspense.js","App.js","redax/bestFriends-reducer.js","redax/redux-store.js","index.js","components/Dialogs/Dialogs.module.css","components/Content/ProfileInfo/ProfileInfo.module.css","components/common/preloader/preloader.jsx","components/Header/Header.module.css","components/News/News.module.css","components/common/preloader/preloader.module.css","redax/users-reducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowUser","id","delete","followUser","post","getUserProfile","UserId","console","warn","profileAPI","authUserData","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","authAPI","loginUser","email","password","rememberMe","remembeMe","captcha","logoutUser","securityAPI","getCaptchaURL","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","className","classes","header","alt","src","login","isAuth","onClick","logoutUserThunk","to","SET_USER_DATA","SET_LOGIN_USER_ID","SET_CAPTCHA_URL","initialState","userId","captchaURL","setAuthUserData","type","payload","setCuptchaURL","authUserDataThunk","dispatch","a","resultCode","getcaptchaURLThunk","url","authReducer","state","action","HeaderContainer","this","React","Component","connect","auth","BestFriends","ava","avaLink","friendItem","name","Nav","bestFriendElem","bestFriends","map","friend","dialogAvaLink","nav","item","activeClassName","activeLink","friends","friendsItemWrapper","DialogItem","path","dialog","Message","message","Textarea","input","meta","hasError","error","touched","formControl","Input","required","value","maxLengthCreator","maxLength","length","maxLength50","DialogReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","validate","Dialogs","dialogsElements","messagesPage","dialogData","element","messagesElements","messagesData","dialogs","dialogItems","messagesBlock","addMessageAction","messageValue","ADD_MESSAGE","messagePageReducer","chengeMessage","mapStateToProps","withAuthRedirect","RedirectComponent","DialogsContainer","compose","addMessageActionCreater","REPOST","UNREPOST","news","repost","author","title","body","image","repostAC","unrepostAC","newsPageReducer","u","News","newsElem","n","clear","ContainerNews","newsPage","unrepost","MusicReduxForm","Music","music","log","LoginReduxForm","errorLogin","LoginContainer","loginUserThunk","messages","stopSubmit","_error","SET_CHOISE_SUMM","choiseSumm","settingReducer","summ","setting","setSummAC","useState","currentValue","onChengeCurrentValue","settings","min","max","onChange","e","currentTarget","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCES","SAVE_PROFILE","postsData","likeNumb","userProfile","setUserStatus","getUserProfileThunk","contentPageReducer","newPost","postMessage","stateCopy","postsdata","push","photos","Post","avalink","likenumb","maxLength30","PostReduxForm","MyPosts","postsElem","contentPage","posts","addPostAction","MypostsContainer","addPostActionCreater","ProfileStatus","editMode","setEditMode","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatusThunk","ProfileDataReduxForm","style","Object","keys","profile","contacts","key","Contact","contactTitle","contactValue","ProfileData","isOwner","goToEditMode","aboutMe","lookingForAJob","lookingForAJobDescription","ProfileInfo","avatar","large","userPhotoDefault","fullName","target","files","savePhotoThunk","setFormDataThunk","initialValues","Content","content","store","ProfileContainer","match","params","authorizedUserId","history","getStatusThunk","refreshProfile","prevProps","prevState","snapshot","ProfileContainerConnect","photo","getState","Promise","reject","withRouter","INITIALIZED_SUCCESS","inizialized","appReducer","withSuspense","Suspense","fallback","UsersContainer","lazy","App","initializeAppThunk","initialized","exact","render","app","bestFriendsReducer","reducers","combineReducers","usersPage","userPageReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","rerenderEntireTree","ReactDOM","basename","process","document","getElementById","subscribe","Preloader","wrapperSpin","ldsRipple","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USER_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","usersTotalCount","isFetching","followingProgress","follow","unfollow","setUsers","setCurrentPage","pageNumber","SetIsFetching","setFollowingProgress","getUsersThunk","items","totalUser","totalCount","onPageChengeThunk","followThunk","unfollowThunk","followed","filter"],"mappings":"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","file":"static/js/main.2b25dde6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/users.11231a30.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2-fKq\",\"item\":\"Nav_item__4r8_j\",\"activeLink\":\"Nav_activeLink__2WSEn\",\"friends\":\"Nav_friends__2fZvn\",\"friendsItemWrapper\":\"Nav_friendsItemWrapper__aXLeq\",\"ava\":\"Nav_ava__36qWY\",\"friendItem\":\"Nav_friendItem__2bbqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__240Pk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__d9j1V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__27TYr\",\"avatar\":\"Content_avatar__1eH8z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__y6SLq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3UzhK\",\"item\":\"Post_item__2v9Uw\"};","import * as axios from 'axios'\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'c3824144-a684-4fa7-836c-9c70cb84d6fb'\r\n    }\r\n})\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n    \r\n    getUsers(currentPage = 1, pageSize = 3) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n\r\n    unfollowUser(id) {\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n\r\n    followUser(id) {\r\n        return instance.post(`follow/${id}`, {})\r\n    },\r\n\r\n    getUserProfile(UserId) {\r\n        console.warn('use profileAPI')\r\n        return profileAPI.getUserProfile(UserId)\r\n    },\r\n\r\n    authUserData() {\r\n        return instance.get(`auth/me`)\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n\r\n    getUserProfile(UserId) {\r\n        return instance.get(`profile/${UserId}`)\r\n    },\r\n\r\n    getStatus(UserId) {\r\n        return instance.get('profile/status/' + UserId)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {\r\n            status: status\r\n        })\r\n    },\r\n\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n\r\n    saveProfile(formData) {\r\n        return instance.put('profile', \r\n            formData \r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n    authUserData() {\r\n        return instance.get(`auth/me`)\r\n\r\n    },\r\n\r\n    loginUser(formData) {\r\n        return instance.post('/auth/login', {\r\n            email: formData.email,\r\n            password: formData.password,\r\n            rememberMe: formData.remembeMe,\r\n            captcha: formData.captcha\r\n        })\r\n    },\r\n\r\n    logoutUser () {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL () {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControl_formControl__2nT8T\",\"error\":\"formsControl_error__1bztn\",\"errorLogin\":\"formsControl_errorLogin__3Sxj2\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from'./Header.module.css';\r\n\r\nconst Header = (props) =>{\r\n    return(\r\n  <header className={classes.header}>\r\n      <img alt=\"header\" src='https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/NASA_logo.svg/200px-NASA_logo.svg.png'/>\r\n      <div className={classes.login}>\r\n      {props.isAuth ? \r\n      <div>{props.login} -<button onClick={props.logoutUserThunk}>Log Out</button></div> :\r\n       <NavLink to='/login'>Login</NavLink>}\r\n        </div>  \r\n  </header>\r\n  )\r\n}\r\n\r\n\r\nexport default Header","import { stopSubmit } from 'redux-form';\r\nimport {usersAPI, authAPI, securityAPI} from './../api/api';\r\n\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_LOGIN_USER_ID = 'autn/SET_LOGIN_USER_ID'\r\nconst SET_CAPTCHA_URL = 'SET_CAPTCHA_URL'\r\n\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaURL: null\r\n\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case SET_USER_DATA: \r\n        return {\r\n          ...state,\r\n          ...action.payload\r\n        } \r\n    case SET_LOGIN_USER_ID: \r\n        return {\r\n          ...state,\r\n          userId: action.userId,\r\n        }\r\n    case SET_CAPTCHA_URL: \r\n        return {\r\n          ...state,\r\n          captchaURL: action.captchaURL,\r\n        }              \r\n      default:\r\n        return state;    \r\n  }\r\n}\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n  return(\r\n    {type: SET_USER_DATA, payload: {userId, email, login, isAuth}}\r\n  )\r\n} \r\n\r\nexport const setLoginUserId = (userId) => {\r\n  return(\r\n    {type: SET_LOGIN_USER_ID, userId}\r\n  )\r\n}\r\n\r\nexport const setCuptchaURL = (captchaURL) => {\r\n  return(\r\n    {type: SET_CAPTCHA_URL, captchaURL}\r\n  )\r\n}\r\n\r\nexport const authUserDataThunk = () =>{ \r\nreturn async (dispatch) => {\r\n   let response = await usersAPI.authUserData()\r\n    if (response.data.resultCode === 0) {\r\n      let { id, email, login } = response.data.data\r\n      dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n}\r\n\r\nexport const loginUserThunk = (formData) =>{ \r\n  return async (dispatch) => {\r\n    let response = await authAPI.loginUser(formData)\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(authUserDataThunk())\r\n      } else {\r\n        if (response.data.resultCode === 10) {\r\n          dispatch(getcaptchaURLThunk())\r\n        }\r\n        const message = response.data.messages.length > 0 ? response.data.messages : 'some error'\r\n        const action = stopSubmit('login', {_error:message})\r\n        dispatch(action)\r\n      }\r\n   }\r\n  }\r\n\r\nexport const logoutUserThunk = () =>{ \r\n    return async (dispatch) => {\r\n    let response = await authAPI.logoutUser()\r\n        if (response.data.resultCode === 0) {\r\n          dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n     }\r\n    }  \r\n\r\nexport const getcaptchaURLThunk = () =>{ \r\n      return async (dispatch) => {\r\n      let response = await securityAPI.getCaptchaURL()\r\n        const captchaURL = response.data.url\r\n        dispatch(setCuptchaURL(captchaURL))\r\n       }\r\n      }   \r\n\r\nexport default authReducer","import React from 'react';\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport { authUserDataThunk, logoutUserThunk } from './../../redax/auth-reducer'\r\n\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { authUserDataThunk, logoutUserThunk })(HeaderContainer)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Nav.module.css';\r\n\r\n\r\nconst BestFriends = (props) => {\r\n    return(\r\n    <div>\r\n        <div className={classes.ava}><img src={props.avaLink} alt='ava'/></div>   \r\n        <div className={classes.friendItem}>{props.name}</div>\r\n    </div> \r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst Nav = (props) => {\r\n    \r\n    let bestFriendElem = props.state.bestFriends.bestFriends.map((friend) => {\r\n        return(\r\n            <BestFriends key={friend.id} avaLink={friend.dialogAvaLink} name={friend.name}/>\r\n        )\r\n        \r\n    })\r\n    return (\r\n    <nav className={classes.nav}>\r\n        <div className={`${classes.item}`}>\r\n            <NavLink to='/profile' activeClassName={classes.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/users' activeClassName={classes.activeLink}>Find Friends</NavLink>\r\n        </div>\r\n        <div className={classes.friends}>\r\n            <h1>Friends</h1>\r\n            <div className={classes.friendsItemWrapper}>\r\n                {bestFriendElem}     \r\n            </div>\r\n        </div>\r\n    </nav>\r\n    )\r\n}\r\n\r\nexport default Nav","import React from 'react';\r\nimport classes from './../Dialogs.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n  let path = \"/dialogs/\"+ props.id\r\n  return (\r\n    <div className={classes.dialog}>\r\n      <img src={props.dialogAvaLink} alt='ava'/>\r\n      <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default DialogItem","import React from 'react';\r\nimport classes from './../Dialogs.module.css';\r\n\r\n\r\n\r\nconst Message = (props) => {\r\n  return (\r\n  <div className={classes.message}>{props.message}</div>\r\n  )\r\n}\r\n \r\n\r\n\r\nexport default Message","import React from 'react';\r\nimport classes from './formsControl.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) =>{\r\n    const hasError = meta.error && meta.touched; \r\n    return (\r\n        <div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\n\r\nexport const Input = ({input, meta, ...props}) =>{\r\n    const hasError = meta.error && meta.touched; \r\n    return (\r\n        <div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n        \r\n    )\r\n}","\r\n\r\n\r\nexport const required = value => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {Textarea} from './../common/FormsControl/FormsControl'\r\nimport { required, maxLengthCreator } from '../../utils/validators/validator';\r\n\r\nconst Dialogs = (props) => {\r\n\r\n\r\n  let dialogsElements = props.messagesPage.dialogData.map((element) => {\r\n    return (\r\n      <DialogItem name={element.name} key={element.id} id={element.id} dialogAvaLink={element.dialogAvaLink} />\r\n    );\r\n  });\r\n\r\n\r\n  let messagesElements = props.messagesPage.messagesData.map(message => <Message message={message.message} />);\r\n\r\n\r\n  const onSubmit = (formData) => {\r\n    props.addMessageAction(formData.messageValue);\r\n  } \r\n\r\n  return (\r\n    <div className={classes.dialogs}>\r\n        <div className={classes.dialogItems}>\r\n          {dialogsElements}\r\n        </div>\r\n        <div className={classes.messagesBlock}>\r\n          {messagesElements}\r\n        </div>\r\n        <DialogReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  )\r\n}\r\nconst maxLength50 = maxLengthCreator(50)\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n          <Field placeholder={'Message'} name={'messageValue'} component={Textarea} validate={[required, maxLength50]}/>\r\n        </div>\r\n        <button>add message</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst DialogReduxForm = reduxForm ({\r\n  form: 'dialogs'\r\n}) (AddMessageForm)\r\n\r\n\r\n\r\nexport default Dialogs","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogData:[\r\n    {id: 1, name: 'Dimych', dialogAvaLink:'https://i.pinimg.com/236x/54/13/e2/5413e250d1eecb821fc49c3213d7d661--search.jpg'},\r\n    {id: 2, name: 'Masha', dialogAvaLink:'https://bipbap.ru/wp-content/uploads/2018/02/1378847521_1806552374.jpg'},\r\n    {id: 3, name: 'Sveta', dialogAvaLink:'https://sun9-17.userapi.com/impf/4WuzlR38g8VZ7SDAE26PZMvN8ymWBgFKfvnJcg/mh2Zr1zacro.jpg?size=200x0&quality=90&crop=22,0,560,580&sign=ce0a6e9cd38861cbf30a89d01eb50ce1&ava=1'},\r\n    {id: 4, name: 'Saha', dialogAvaLink:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCo1Qx_f-i5jibEv8Aa7D5lOYSClFPsq6b8g&usqp=CAU'},\r\n    {id: 5, name: 'Vadim', dialogAvaLink:'https://sun9-58.userapi.com/impf/c627624/v627624661/2fe3/b_qSlC2kZIo.jpg?size=200x0&quality=90&crop=0,0,501,604&sign=f020e3d674d8d1299729deee44221885&ava=1'}],\r\n\r\n  messagesData: [\r\n    {id: 1, message: 'Hi'},\r\n    {id: 2, message: 'How are you?'},\r\n    {id: 3, message: 'What the fuck?'}],\r\n\r\n \r\n}\r\n\r\nconst messagePageReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case ADD_MESSAGE: \r\n      return {\r\n        ...state,\r\n        chengeMessage: '',\r\n        messagesData: [...state.messagesData, \r\n          {id: state.messagesData.length + 1,\r\n          message: action.message} ]\r\n      };\r\n      \r\n    default:\r\n      return state; \r\n  }\r\n}\r\n\r\nexport const addMessageActionCreater = (messageValue) => {\r\n    return(\r\n      {type: ADD_MESSAGE, message: messageValue}\r\n    )\r\n   }\r\n  \r\n\r\n\r\nexport default messagePageReducer","import { Redirect } from \"react-router-dom\"\r\nimport React from 'react'\r\nimport { connect } from \"react-redux\"\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    \r\n    let ConnectedAuthRedirectComponent = connect (mapStateToProps)(RedirectComponent)    \r\n    return ConnectedAuthRedirectComponent\r\n}","\r\nimport Dialogs from './Dialogs'\r\nimport {addMessageActionCreater} from '../../redax/messagePage-reducer'\r\nimport { connect } from 'react-redux'\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n \r\n\r\nconst mapStateToProps = (state) =>{\r\n  return{\r\n    messagesPage: state.messagesPage,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return{\r\n    addMessageAction: (messageValue) => {\r\n      dispatch(addMessageActionCreater(messageValue))\r\n    }\r\n  }\r\n}\r\n\r\nconst DialogsContainer = compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(Dialogs)\r\n\r\n\r\nexport default DialogsContainer","const REPOST = 'REPOST';\r\nconst UNREPOST = 'UNREPOST';\r\n\r\n\r\nlet initialState = {\r\n  news: [\r\n    {id:1, repost: true, author: 'Степан Путило', title: 'Жыве Беларусь!', body:'Патриотический лозунг-девиз, направленный на пробуждение национально-гражданских чувств, консолидацию народа Белоруссии на защиту свободы, независимости своей страны, родного языка, всей национальной культуры.', image: 'https://pbs.twimg.com/profile_images/637374236/305341222_400x400.jpg'},\r\n    {id:2, repost:false, author: 'Виктор Бабарико', title: 'Победа близко!', body:'Белорусский банкир, общественный и политический деятель, в 2020 году выдвигавший свою кандидатуру на пост президента Республики Беларусь, политический заключённый, меценат. Задержан 18 июня 2020.', image: 'https://pbs.twimg.com/profile_images/1293684186470125568/_bp0VdeG_400x400.jpg'},\r\n  ]\r\n  \r\n}\r\n\r\nconst newsPageReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case REPOST: \r\n        return {\r\n          ...state,\r\n          news: state.news.map( u => {\r\n            if (u.id === action.userId) {\r\n              return {...u, repost: true}\r\n            }\r\n            return u;\r\n          })\r\n        }\r\n     case UNREPOST:\r\n      return {\r\n        ...state,\r\n        news: state.news.map( u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, repost: false}\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n     default:\r\n        return state;    \r\n  }\r\n}\r\nexport const repostAC = (userId) => {\r\n  return(\r\n    {type: REPOST, userId}\r\n  )\r\n} \r\nexport const unrepostAC = (userId) =>{\r\n  return(\r\n    {type: UNREPOST, userId}\r\n  )\r\n}\r\n\r\n\r\nexport default newsPageReducer","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\n\r\n\r\nconst News = (props) => {\r\n\r\n  let newsElem = props.news.map( n => {\r\n    return (\r\n      <div className={classes.news} key={n.id}>\r\n        <img src={n.image} alt=\"newsimg\"/>\r\n        <h3>{n.title}</h3>\r\n        <div>{n.body}</div>\r\n        <div className={classes.clear}></div>\r\n        <div>{n.author}</div>\r\n      </div>\r\n    )\r\n  })\r\n    return (\r\n      <div>\r\n        { newsElem }\r\n      </div>\r\n     \r\n    )\r\n}\r\n\r\nexport default News","import { connect } from 'react-redux'\r\nimport { repostAC, unrepostAC } from '../../redax/news-reducer'\r\nimport News from './News'\r\n\r\nconst mapStateToProps = (state) =>{\r\n  return {\r\n    news: state.newsPage.news\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n  return {\r\n    repost: () =>{\r\n      dispatch(repostAC)\r\n    } ,\r\n    unrepost: () => {\r\n      dispatch(unrepostAC)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst ContainerNews = connect(mapStateToProps, mapDispatchToProps) (News)\r\nexport default ContainerNews","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport classes from './Music.module.css';\r\n\r\n\r\nconst Music = (props) => {\r\n  const onSubmit = (formData) => {\r\n    console.log(formData)\r\n  }\r\n    return (\r\n      <div className={classes.music}>\r\n         <MusicReduxForm onSubmit={onSubmit} />\r\n      </div>\r\n    )\r\n}\r\n\r\n\r\nconst MusicForm = (props) => {\r\n  return <form onSubmit={props.handleSubmit} >\r\n    <div>\r\n       <Field name=\"lastName\" component=\"input\" type=\"text\"/>\r\n    </div>\r\n    <div>\r\n        <Field name=\"firstName\" component=\"input\" type=\"text\"/>\r\n    </div>\r\n    <div>\r\n        <Field name=\"email\" component=\"input\" type=\"email\" />\r\n    </div>\r\n    <button type=\"submit\">Submit</button>\r\n  </form>\r\n}\r\n\r\nconst MusicReduxForm = reduxForm({\r\n  form: 'musicForm'\r\n})(MusicForm)\r\n\r\nexport default Music","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { compose } from 'redux'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required } from '../../utils/validators/validator'\r\nimport { Input } from '../common/FormsControl/FormsControl'\r\nimport { loginUserThunk } from './../../redax/auth-reducer'\r\nimport classes from './../common/FormsControl/formsControl.module.css'\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} >\r\n            <div>\r\n                <Field placeholder={'Email'} name={'email'} component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'} name={'password'} component={Input} validate={[required]} type='password' />\r\n            </div>\r\n            <div>\r\n                <Field type={'checkbox'} name={'remembeMe'} component={Input} />\r\n                <span>remember me</span>\r\n            </div>\r\n            {props.captcha && \r\n              <div>\r\n                    <img src={props.captcha} alt='captcha'/>\r\n                    <div>\r\n                      <Field placeholder={'captcha'} name={'captcha'} component={Input} validate={[required]}/>\r\n                    </div>\r\n              </div>\r\n            }\r\n            <div>\r\n                {props.error && <div className={classes.errorLogin}>\r\n                    {props.error}\r\n                </div>}\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.loginUserThunk(formData)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/Profile'} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captcha={props.captchaURL}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaURL: state.auth.captchaURL\r\n})\r\n\r\nconst LoginContainer = compose(\r\n    connect(mapStateToProps, { loginUserThunk })\r\n)(Login)\r\n\r\nexport default LoginContainer","const SET_CHOISE_SUMM = 'SET_CHOISE_SUMM'\r\n\r\n\r\nconst initialState = {\r\n  choiseSumm: ''\r\n}\r\n\r\n\r\nconst settingReducer = (state = initialState, action) => {\r\n   switch(action.type) {\r\n    case SET_CHOISE_SUMM:\r\n      return {\r\n        ...state,\r\n        choiseSumm: action.summ\r\n      }\r\n      default:\r\n        return state;\r\n   }\r\n}\r\n\r\n\r\nexport const setSummAC = (summ) => {\r\n  return (\r\n    {\r\n      type: SET_CHOISE_SUMM,\r\n      summ\r\n    }\r\n  )\r\n}\r\n\r\n\r\nexport default settingReducer","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport classes from './Settings.module.css';\r\nimport {setSummAC} from '../../redax/settingPage-reducer'\r\n\r\n\r\nconst Settings = (props) => {\r\n\r\nconst [currentValue, onChengeCurrentValue] = useState(0)\r\n\r\nconst onChengeValue = (e) => {\r\n  onChengeCurrentValue(e.currentTarget.value)\r\n}\r\n\r\n    return (\r\n      <div className={classes.settings}>\r\n        <h1>Your Choise: <span>{props.summ}</span></h1>\r\n        <div>Current summ value: <span>{currentValue}</span></div> \r\n        <input type=\"range\" min='0' max='100' value={currentValue} onChange={onChengeValue} />\r\n        <button onClick={ (e) => {\r\n          props.setSummAC(currentValue)\r\n        } }>Confirm</button>\r\n        <button onClick={ () => {\r\n          props.setSummAC(0)\r\n        } }>Clear</button>\r\n      </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    summ: state.setting.choiseSumm\r\n  }\r\n}\r\n\r\n\r\nexport default connect (mapStateToProps, { setSummAC }) (Settings)","import { stopSubmit } from 'redux-form';\r\nimport {profileAPI, usersAPI} from './../api/api';\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE'\r\nconst SET_STATUS = 'profile/SET_STATUS'\r\nconst SAVE_PHOTO_SUCCES = 'SAVE_PHOTO_SUCCES'\r\nconst SAVE_PROFILE = 'SAVE_PROFILE'\r\n\r\nlet initialState = {\r\n  postsData: [{\r\n      id: 1,\r\n      message: 'Hi, bro..,',\r\n      likeNumb: '32',\r\n      avaLink: 'https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg'\r\n    },\r\n    {\r\n      id: 2,\r\n      message: 'Hello world!',\r\n      likeNumb: '20',\r\n      avaLink: 'https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg'\r\n    },\r\n  ],\r\n  userProfile: null,\r\n  status:''\r\n\r\n}\r\n\r\nconst contentPageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.postMessage,\r\n        likeNumb: 0,\r\n        avaLink: 'https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg'\r\n      };\r\n      let stateCopy = {\r\n        ...state,\r\n        postsdata: [...state.postsData],\r\n      };\r\n      stateCopy.postsData.push(newPost)\r\n      return stateCopy\r\n    }\r\n      case SET_USER_PROFILE:\r\n        return {\r\n          ...state,\r\n          userProfile: action.userProfile\r\n        }\r\n        case SET_STATUS:\r\n          return {\r\n            ...state,\r\n            status: action.status\r\n          }\r\n          case SAVE_PHOTO_SUCCES:\r\n            return {\r\n              ...state,\r\n              userProfile: {...state.userProfile, photos: action.photos}\r\n            } \r\n            case SAVE_PROFILE:\r\n              return {\r\n                ...state,\r\n                userProfile: {...state.userProfile, photos: action.photos}\r\n              }  \r\n          default:\r\n            return state;\r\n  }\r\n}\r\n\r\n\r\nexport const addPostActionCreater = (postMessage) => {\r\n  return ({\r\n    type: ADD_POST, postMessage\r\n  })\r\n}\r\nexport const setUserProfile = (userProfile) => {\r\n  return ({\r\n    type: SET_USER_PROFILE,\r\n    userProfile\r\n  })\r\n}\r\n\r\nexport const setUserStatus = (status) => {\r\n  return ({\r\n    type: SET_STATUS,\r\n    status\r\n  })\r\n}\r\n\r\n\r\nexport const savePhotoSucces = (photos) => {\r\n  return ({\r\n    type: SAVE_PHOTO_SUCCES,\r\n    photos\r\n  })\r\n}\r\n\r\nexport const saveProfile = (formData) => {\r\n  return ({\r\n    type: SAVE_PROFILE, formData\r\n  })\r\n}\r\n\r\nexport const getUserProfileThunk = (userId) => {\r\n  return (dispatch) => {\r\n    usersAPI.getUserProfile(userId).then(response => {\r\n      dispatch(setUserProfile(response.data))\r\n    });\r\n  }\r\n}\r\n\r\nexport const getStatusThunk = (userId) => {\r\n  return (dispatch) => {\r\n    profileAPI.getStatus(userId).then(response => {\r\n      dispatch(setUserStatus(response.data))\r\n    });\r\n  }\r\n}\r\n\r\nexport const updateStatusThunk = (status) => {\r\n  return (dispatch) => {\r\n    profileAPI.updateStatus(status).then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport const savePhotoThunk = (photo) => {\r\n  return (dispatch) => {\r\n    profileAPI.savePhoto(photo).then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSucces(response.data.data.photos))\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport const setFormDataThunk = (formData) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(formData)\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunk(userId))\r\n      } else {\r\n        dispatch(stopSubmit('ProfileData', {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0]);\r\n      }\r\n  }\r\n\r\n\r\n\r\n\r\nexport default contentPageReducer","import React from 'react';\r\nimport classes from './Post.module.css';\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={classes.post}>\r\n            <img alt='ava' src={props.avalink}/>\r\n            {props.message}\r\n            <div>Like\r\n                <span>  </span>   \r\n                <span>{props.likenumb}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport classes from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {required, maxLengthCreator} from './../../../utils/validators/validator'\r\nimport {Textarea} from './../../common/FormsControl/FormsControl'\r\n\r\nconst MyPosts = (props) => {\r\n\r\n  let postsElem = props.contentPage.postsData.map((post) => {\r\n    return (\r\n      <Post message={post.message} key={post.id} likenumb={post.likeNumb} avalink={post.avaLink} />\r\n    );\r\n  });\r\n\r\n  const onSubmit = (formData) =>{\r\n    props.addPostAction(formData.postMessage);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.posts}>My posts\r\n    <PostReduxForm onSubmit={onSubmit} />\r\n      {postsElem}\r\n    </div>\r\n  )\r\n}\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst PostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} >\r\n        <div>\r\n          <Field name={'postMessage'} component={Textarea} placeholder={'write here'} validate={[required, maxLength30]}></Field>\r\n        </div>\r\n        <button>add post</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst PostReduxForm = reduxForm ({\r\n  form: 'posts'\r\n}) (PostForm)\r\n\r\nexport default MyPosts","\r\nimport { connect } from 'react-redux';\r\nimport {addPostActionCreater} from '../../../redax/contentPage-reducer'\r\nimport MyPosts from './Myposts'\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    contentPage: state.contentPage\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps =(dispatch) => {\r\n  return{\r\n    addPostAction: (postMessage) =>{\r\n      dispatch(addPostActionCreater(postMessage))\r\n    }\r\n  }\r\n}\r\n\r\nconst MypostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\r\n\r\nexport default MypostsContainer","import React, { useEffect, useState } from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\n\r\n\r\n\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n\r\n  const activatedEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  const deactivatedEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatusThunk(status);\r\n  }\r\n\r\n  const onChangeStatus = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  },[props.status]);\r\n\r\n\r\n  return (\r\n    <div className={classes}>\r\n      {!editMode &&\r\n        <div>\r\n          <span onDoubleClick={activatedEditMode}>{props.status ? props.status : 'Not status'}</span>\r\n        </div>\r\n      }\r\n      {editMode &&\r\n        <div>\r\n          <input autoFocus={true} onChange={onChangeStatus} onBlur={deactivatedEditMode} value={status} />\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Input, Textarea } from '../../common/FormsControl/FormsControl'\r\nimport classes from './ProfileInfo.module.css';\r\nimport style from './../../common/FormsControl/formsControl.module.css'\r\n\r\nconst ProfileDataForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} >\r\n            {props.error && <div className={style.errorLogin}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <b>Full name:</b><Field placeholder={'Full name'} name={'fullName'} component={Input} />\r\n            </div>\r\n            <div>\r\n                <b>About me:</b><Field placeholder={'About me'} name={'aboutMe'} component={Input} type='text' />\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job:</b><Field type={'checkbox'} name={'lookingForAJob'} component={Input} />\r\n            </div>\r\n            <div>\r\n                <b>Skills:</b><Field placeholder={'skils'} name={'lookingForAJobDescription'} component={Textarea} type='text' />\r\n            </div>\r\n            <div> Contacts:{Object.keys(props.profile.contacts).map(key => {\r\n                return <div className={classes.contacts} key={key}> \r\n                {key} \r\n                <Field placeholder={key} name={'contacts.' + key} component={Input} />\r\n                </div>\r\n            })}\r\n            </div>\r\n\r\n            <div>\r\n                <button>Save</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst ProfileDataReduxForm = reduxForm({\r\n    form: 'ProfileData'\r\n})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm","import React, { useState } from 'react';\r\nimport Preloader from '../../common/preloader/preloader';\r\nimport classes from './ProfileInfo.module.css';\r\nimport userPhotoDefault from './../../../assets/images/users.png'\r\nimport ProfileStatus from './ProfileStatus copy'\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  const [editMode, setEditMode] = useState(false)\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhotoThunk(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n     props.setFormDataThunk(formData).then(\r\n      () => {\r\n        setEditMode(false)\r\n       }\r\n     )\r\n  }  \r\n  \r\n\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <img className={classes.avatar} alt='ava' src={props.profile.photos.large != null ? props.profile.photos.large : userPhotoDefault} />\r\n        <h3>{props.profile.fullName}</h3>\r\n        <ProfileStatus status={props.status} updateStatusThunk={props.updateStatusThunk} />\r\n        <div className={classes.clear}></div>\r\n        {props.isOwner && <input type='file' onChange={onMainPhotoSelected} />}\r\n        { editMode \r\n            ? <ProfileDataForm onSubmit={onSubmit} initialValues={props.profile} profile={props.profile}/> \r\n            : <ProfileData profile={props.profile} \r\n                           isOwner={props.isOwner} \r\n                           goToEditMode={()=> {\r\n                                setEditMode(true)\r\n        }} />}\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Contact = ({ contactTitle, contactValue }) => {\r\n  return <div>{contactTitle} : {contactValue}</div>\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n  return (\r\n    <div>\r\n      {props.isOwner && <div><button onClick={ ()=> {props.goToEditMode()} } >edit</button></div>}\r\n      <div>{props.profile.aboutMe}</div>\r\n      <div>нужна работа: {props.profile.lookingForAJob ? 'Yes' : 'No'} </div>\r\n      {props.profile.lookingForAJob && <div>Навыки: {props.profile.lookingForAJobDescription} </div>}\r\n      <div className={classes.contacts}> Contacts:{Object.keys(props.profile.contacts).map(key => {\r\n        return <Contact contactTitle={key}\r\n          contactValue={props.profile.contacts[key]}\r\n          key={key} />\r\n      })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default ProfileInfo","import React from 'react';\r\nimport classes from './Content.module.css';\r\nimport MypostsContainer from './MyPosts/MypostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\n\r\n\r\n\r\nconst Content = (props) => {\r\n    return (\r\n      <div className={classes.content}>\r\n          <div>\r\n              <img alt='decorate' src='https://apod.nasa.gov/apod/image/2008/PerseidBridge_Zhang_4032.jpg'/>\r\n          </div>\r\n         <ProfileInfo profile={props.profile} status={props.status} \r\n         updateStatusThunk={props.updateStatusThunk} isOwner={props.isOwner} savePhotoThunk={props.savePhotoThunk}\r\n         setFormDataThunk={props.setFormDataThunk}/>\r\n         <MypostsContainer\r\n                store={props.store}/>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Content","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Content from './Content';\r\nimport { getUserProfileThunk, getStatusThunk, updateStatusThunk, savePhotoThunk, setFormDataThunk } from './../../redax/contentPage-reducer'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile () {\r\n        let userId = this.props.match.params.userId; \r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n        }  if (!userId) {\r\n            this.props.history.push('/login');\r\n        }\r\n    \r\n        this.props.getUserProfileThunk(userId)\r\n        this.props.getStatusThunk(userId)\r\n\r\n    }\r\n   componentDidMount () {\r\n    this.refreshProfile()\r\n   }\r\n\r\n   componentDidUpdate (prevProps, prevState, snapshot) {\r\n       if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n        this.refreshProfile()\r\n       }\r\n   }\r\n \r\n   render () {\r\n       return (\r\n        <Content {...this.props} profile={this.props.profile} isOwner={!this.props.match.params.userId}/>\r\n       )\r\n   }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return {\r\n        profile: state.contentPage.userProfile,\r\n        status: state.contentPage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nconst ProfileContainerConnect = compose(\r\n    connect(mapStateToProps, {getUserProfileThunk,getStatusThunk, updateStatusThunk, savePhotoThunk, setFormDataThunk}),\r\n    withRouter,\r\n    withAuthRedirect\r\n) (ProfileContainer)\r\n\r\n\r\nexport default ProfileContainerConnect\r\n\r\n","import { authUserDataThunk } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n  inizialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case INITIALIZED_SUCCESS: \r\n        return {\r\n          ...state,\r\n          inizialized: true\r\n        }        \r\n      default:\r\n        return state;    \r\n  }\r\n}\r\nexport const initializedSucces = () => {\r\n  return(\r\n    {type: INITIALIZED_SUCCESS}\r\n  )\r\n} \r\n\r\n\r\nexport const initializeAppThunk = () => (dispatch) => { \r\n  let promise = dispatch(authUserDataThunk());\r\n  promise.then( () => {\r\n    dispatch(initializedSucces());\r\n  })\r\n}\r\n\r\n\r\n\r\nexport default appReducer","import React from 'react'\r\nimport Preloader from '../common/preloader/preloader'\r\n\r\nlet withSuspense = (Component) => {\r\n  \r\n    return (props) => {\r\n        return (\r\n            <React.Suspense fallback={<Preloader/>}>\r\n                <Component {...props}/>\r\n            </React.Suspense>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withSuspense","import './App.css';\nimport React from 'react';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Nav from './components/Nav/Nav';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport ContainerNews from './components/News/conteinerNews';\nimport Music from './components/Music/Music';\nimport LoginContainer from './components/Login/Login';\nimport Settings from './components/Settings/Settings';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\nimport ProfileContainerConnect from './components/Content/ProfileContainer'\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { initializeAppThunk } from './redax/app-reducer';\nimport Preloader from './components/common/preloader/preloader';\nimport withSuspense from './components/hoc/withSuspense';\n\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeAppThunk()\n  }\n\n\n  render () {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n      return (\n            <div className=\"app-wrapper\">\n              <HeaderContainer/>\n              <Nav state={this.props.state}/>\n              <div className='app-wrapper-content'>\n                <Switch>\n                  <Route exact path=\"/\" render={ () => <Redirect to={'/profile'}/> }/>\n                  <Route path=\"/profile/:userId?\" render={ () => <ProfileContainerConnect/>}/>\n                  <Route path=\"/dialogs\" render={ () => <DialogsContainer\n                         state={this.props.state}/>}/> \n                  <Route path=\"/news\" render={ () => <ContainerNews/>}/>\n                  <Route path=\"/music\" render={ () => <Music/>}/> \n                  <Route path=\"/settings\" render={ () => <Settings/>}/> \n                  <Route path=\"/users\" render={ withSuspense(UsersContainer) }/> \n                  <Route path=\"/login\" render={ () => <LoginContainer/>}/>\n                  <Route path=\"*\" render={ () => <div>404 NOT FOUND</div>}/>\n                </Switch> \n              </div>\n            </div>\n      );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.inizialized\n})\n\nexport default compose(\n  connect(mapStateToProps, {initializeAppThunk}),\n  withRouter)(App)\n","\r\n\r\nlet initialState = {\r\n    bestFriends: [\r\n        {id: 1, name: 'Dimych', dialogAvaLink:'https://i.pinimg.com/236x/54/13/e2/5413e250d1eecb821fc49c3213d7d661--search.jpg'},\r\n        {id: 2, name: 'Masha', dialogAvaLink:'https://bipbap.ru/wp-content/uploads/2018/02/1378847521_1806552374.jpg'},\r\n        {id: 3, name: 'Sveta', dialogAvaLink:'https://sun9-17.userapi.com/impf/4WuzlR38g8VZ7SDAE26PZMvN8ymWBgFKfvnJcg/mh2Zr1zacro.jpg?size=200x0&quality=90&crop=22,0,560,580&sign=ce0a6e9cd38861cbf30a89d01eb50ce1&ava=1'},]\r\n    }\r\n\r\nconst bestFriendsReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n}\r\n\r\nexport default bestFriendsReducer ","import {applyMiddleware, combineReducers, createStore, compose} from 'redux';\r\nimport contentPageReducer from './contentPage-reducer'\r\nimport messagePageReducer from './messagePage-reducer'\r\nimport bestFriendsReducer from './bestFriends-reducer'\r\nimport userPageReducer from './users-reducer'\r\nimport newsPageReducer from './news-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer';\r\nimport settingReducer from './settingPage-reducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    contentPage:contentPageReducer,\r\n    messagesPage:messagePageReducer,\r\n    bestFriends:bestFriendsReducer,\r\n    usersPage:userPageReducer,\r\n    newsPage:newsPageReducer,\r\n    auth:authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    setting: settingReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n/* let store = createStore(reducers, applyMiddleware(thunkMiddleware)); */\r\n\r\nwindow.store = store\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport App from './App';\nimport store from './redax/redux-store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux'\n\nlet rerenderEntireTree = () =>{\n    ReactDOM.render(\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <Provider store={store}>\n                <App state={store.getState()}/>\n          </Provider>\n      </BrowserRouter>,\n      document.getElementById('root')\n    );\n    }\n\n    rerenderEntireTree();\n    \n    store.subscribe(() => {\n      rerenderEntireTree()\n    });\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__13O1d\",\"dialogItems\":\"Dialogs_dialogItems__1bvhd\",\"dialog\":\"Dialogs_dialog__2XPZq\",\"messagesBlock\":\"Dialogs_messagesBlock__3VQKH\",\"message\":\"Dialogs_message__3AsAi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__DyR0c\",\"avatar\":\"ProfileInfo_avatar__14i1w\",\"clear\":\"ProfileInfo_clear__2K0gG\",\"contacts\":\"ProfileInfo_contacts__3q13R\"};","import React from 'react'\r\nimport classes from './preloader.module.css'\r\n\r\n\r\n\r\n\r\n\r\nconst Preloader = (props) =>{\r\n    return (\r\n       <div className={classes.wrapperSpin}><div className={classes.ldsRipple}><div></div><div></div></div></div>\r\n    )\r\n}\r\n\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1mvba\",\"login\":\"Header_login__yl84q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__16vR8\",\"clear\":\"News_clear__29u6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperSpin\":\"preloader_wrapperSpin__QsBk-\",\"ldsRipple\":\"preloader_ldsRipple__1xFyQ\",\"lds-ripple\":\"preloader_lds-ripple__1l7Y-\"};","import {\r\n  usersAPI\r\n} from './../api/api';\r\n\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USER_TOTAL_COUNT = 'SET_USER_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n  users: [],\r\n  currentPage: 1,\r\n  pageSize: 4,\r\n  usersTotalCount: 0,\r\n  isFetching: false,\r\n  followingProgress: []\r\n\r\n\r\n}\r\n\r\nconst userPageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {\r\n              ...u,\r\n              followed: true\r\n            }\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n      case UNFOLLOW:\r\n        return {\r\n          ...state,\r\n          users: state.users.map(u => {\r\n            if (u.id === action.userId) {\r\n              return {\r\n                ...u,\r\n                followed: false\r\n              }\r\n            }\r\n            return u;\r\n          })\r\n        }\r\n        case SET_USERS: {\r\n          return {\r\n            ...state,\r\n            users: action.users\r\n          }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n          return {\r\n            ...state,\r\n            currentPage: action.pageNumber\r\n          }\r\n        }\r\n        case SET_USER_TOTAL_COUNT: {\r\n          return {\r\n            ...state,\r\n            usersTotalCount: action.totalUser\r\n          }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n          return {\r\n            ...state,\r\n            isFetching: action.isFetching\r\n          }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n          return {\r\n            ...state,\r\n            followingProgress: action.followingProgress \r\n            ? [...state.followingProgress, action.userId] \r\n            : state.followingProgress.filter(id => id !== action.userId )\r\n          }\r\n        }\r\n\r\n        default:\r\n          return state;\r\n  }\r\n}\r\nexport const follow = (userId) => {\r\n  return ({\r\n    type: FOLLOW,\r\n    userId\r\n  })\r\n}\r\nexport const unfollow = (userId) => {\r\n  return ({\r\n    type: UNFOLLOW,\r\n    userId\r\n  })\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n  return ({\r\n    type: SET_USERS,\r\n    users\r\n  })\r\n}\r\n\r\nexport const setCurrentPage = (pageNumber) => {\r\n  return ({\r\n    type: SET_CURRENT_PAGE,\r\n    pageNumber\r\n  })\r\n}\r\n\r\nexport const userTotalCount = (totalUser) => {\r\n  return ({\r\n    type: SET_USER_TOTAL_COUNT,\r\n    totalUser\r\n  })\r\n}\r\n\r\nexport const SetIsFetching = (isFetching) => {\r\n  return ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n  })\r\n}\r\n\r\nexport const setFollowingProgress = (followingProgress, userId) => {\r\n  return ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    followingProgress,\r\n    userId\r\n  })\r\n}\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(SetIsFetching(true))\r\n    let response = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(SetIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(userTotalCount(response.totalCount))\r\n  }\r\n}\r\n\r\nexport const onPageChengeThunk = (pageNumber, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(setCurrentPage(pageNumber));\r\n    dispatch(SetIsFetching(true))\r\n    let response = await usersAPI.getUsers(pageNumber, pageSize)\r\n    dispatch(SetIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n  }\r\n}\r\n\r\nexport const followThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(setFollowingProgress(true, userId))\r\n    let response = await usersAPI.followUser(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(follow(userId))\r\n    }\r\n    dispatch(setFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\nexport const unfollowThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(setFollowingProgress(true, userId))\r\n    let response = await usersAPI.unfollowUser(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(unfollow(userId))\r\n    }\r\n    dispatch(setFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default userPageReducer"],"sourceRoot":""}