(this["webpackJsonpkabzda-1"]=this["webpackJsonpkabzda-1"]||[]).push([[0],{126:function(e,t,n){"use strict";t.a=n.p+"static/media/users.11231a30.png"},13:function(e,t,n){e.exports={nav:"Nav_nav__2-fKq",item:"Nav_item__4r8_j",activeLink:"Nav_activeLink__2WSEn",friends:"Nav_friends__2fZvn",friendsItemWrapper:"Nav_friendsItemWrapper__aXLeq",ava:"Nav_ava__36qWY",friendItem:"Nav_friendItem__2bbqN"}},135:function(e,t,n){e.exports={music:"Music_music__240Pk"}},136:function(e,t,n){e.exports={settings:"Settings_settings__d9j1V"}},137:function(e,t,n){e.exports={content:"Content_content__27TYr",avatar:"Content_avatar__1eH8z"}},138:function(e,t,n){e.exports={posts:"MyPosts_posts__y6SLq"}},139:function(e,t,n){e.exports={post:"Post_post__3UzhK",item:"Post_item__2v9Uw"}},16:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(132),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c3824144-a684-4fa7-836c-9c70cb84d6fb"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollowUser:function(e){return r.delete("follow/".concat(e))},followUser:function(e){return r.post("follow/".concat(e),{})},getUserProfile:function(e){return console.warn("use profileAPI"),c.getUserProfile(e)},authUserData:function(){return r.get("auth/me")}},c={getUserProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}},i={authUserData:function(){return r.get("auth/me")},loginUser:function(e){return r.post("/auth/login",{email:e.email,password:e.password,rememberMe:e.remembeMe,captcha:e.captcha})},logoutUser:function(){return r.delete("auth/login")}},o={getCaptchaURL:function(){return r.get("security/get-captcha-url")}}},171:function(e,t,n){},172:function(e,t,n){},27:function(e,t,n){e.exports={formControl:"formsControl_formControl__2nT8T",error:"formsControl_error__1bztn",errorLogin:"formsControl_errorLogin__3Sxj2"}},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(65),i=n.n(c),o=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,300)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},u=(n(171),n(30)),l=n(31),d=n(33),j=n(32),b=(n(172),n(3)),p=n(14),f=n(87),h=n.n(f),m=function(e){return Object(a.jsxs)("header",{className:h.a.header,children:[Object(a.jsx)("img",{alt:"header",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/NASA_logo.svg/200px-NASA_logo.svg.png"}),Object(a.jsx)("div",{className:h.a.login,children:e.isAuth?Object(a.jsxs)("div",{children:[e.login," -",Object(a.jsx)("button",{onClick:e.logoutUserThunk,children:"Log Out"})]}):Object(a.jsx)(p.b,{to:"/login",children:"Login"})})]})},O=n(10),g=n(12),v=n.n(g),x=n(21),_=n(26),k=n(16),S="auth/SET_USER_DATA",w="autn/SET_LOGIN_USER_ID",y="SET_CAPTCHA_URL",N={userId:null,email:null,login:null,isAuth:!1,captchaURL:null},P=function(e,t,n,a){return{type:S,payload:{userId:e,email:t,login:n,isAuth:a}}},C=function(e){return{type:y,captchaURL:e}},A=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,r,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.d.authUserData();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,s=a.email,c=a.login,t(P(r,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.c.getCaptchaURL();case 2:n=e.sent,a=n.data.url,t(C(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(b.a)(Object(b.a)({},e),t.payload);case w:return Object(b.a)(Object(b.a)({},e),{},{userId:t.userId});case y:return Object(b.a)(Object(b.a)({},e),{},{captchaURL:t.captchaURL});default:return e}},U=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(m,Object(b.a)({},this.props))}}]),n}(s.a.Component),I=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{authUserDataThunk:A,logoutUserThunk:function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.logoutUser();case 2:0===e.sent.data.resultCode&&t(P(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(U),D=n(13),E=n.n(D),F=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:E.a.ava,children:Object(a.jsx)("img",{src:e.avaLink,alt:"ava"})}),Object(a.jsx)("div",{className:E.a.friendItem,children:e.name})]})},R=function(e){var t=e.state.bestFriends.bestFriends.map((function(e){return Object(a.jsx)(F,{avaLink:e.dialogAvaLink,name:e.name},e.id)}));return Object(a.jsxs)("nav",{className:E.a.nav,children:[Object(a.jsx)("div",{className:"".concat(E.a.item),children:Object(a.jsx)(p.b,{to:"/profile",activeClassName:E.a.activeLink,children:"Profile"})}),Object(a.jsx)("div",{className:E.a.item,children:Object(a.jsx)(p.b,{to:"/dialogs",activeClassName:E.a.activeLink,children:"Messages"})}),Object(a.jsx)("div",{className:E.a.item,children:Object(a.jsx)(p.b,{to:"/news",activeClassName:E.a.activeLink,children:"News"})}),Object(a.jsx)("div",{className:E.a.item,children:Object(a.jsx)(p.b,{to:"/music",activeClassName:E.a.activeLink,children:"Music"})}),Object(a.jsx)("div",{className:E.a.item,children:Object(a.jsx)(p.b,{to:"/settings",activeClassName:E.a.activeLink,children:"Settings"})}),Object(a.jsx)("div",{className:E.a.item,children:Object(a.jsx)(p.b,{to:"/users",activeClassName:E.a.activeLink,children:"Find Friends"})}),Object(a.jsxs)("div",{className:E.a.friends,children:[Object(a.jsx)("h1",{children:"Friends"}),Object(a.jsx)("div",{className:E.a.friendsItemWrapper,children:t})]})]})},M=n(36),z=n.n(M),q=function(e){var t="/dialogs/"+e.id;return Object(a.jsxs)("div",{className:z.a.dialog,children:[Object(a.jsx)("img",{src:e.dialogAvaLink,alt:"ava"}),Object(a.jsx)(p.b,{to:t,children:e.name})]})},V=function(e){return Object(a.jsx)("div",{className:z.a.message,children:e.message})},G=n(127),W=n(128),H=n(95),Z=n(27),B=n.n(Z),J=function(e){var t=e.input,n=e.meta,r=Object(H.a)(e,["input","meta"]),s=n.error&&n.touched;return Object(a.jsxs)("div",{className:B.a.formControl+" "+(s?B.a.error:""),children:[Object(a.jsx)("div",{children:Object(a.jsx)("textarea",Object(b.a)(Object(b.a)({},t),r))}),s&&Object(a.jsx)("span",{children:n.error})]})},K=function(e){var t=e.input,n=e.meta,r=Object(H.a)(e,["input","meta"]),s=n.error&&n.touched;return Object(a.jsxs)("div",{className:B.a.formControl+" "+(s?B.a.error:""),children:[Object(a.jsx)("div",{children:Object(a.jsx)("input",Object(b.a)(Object(b.a)({},t),r))}),s&&Object(a.jsx)("span",{children:n.error})]})},Y=function(e){if(!e)return"Field is required"},Q=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},X=Q(50),$=Object(W.a)({form:"dialogs"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{placeholder:"Message",name:"messageValue",component:J,validate:[Y,X]})}),Object(a.jsx)("button",{children:"add message"})]})})),ee=function(e){var t=e.messagesPage.dialogData.map((function(e){return Object(a.jsx)(q,{name:e.name,id:e.id,dialogAvaLink:e.dialogAvaLink},e.id)})),n=e.messagesPage.messagesData.map((function(e){return Object(a.jsx)(V,{message:e.message})}));return Object(a.jsxs)("div",{className:z.a.dialogs,children:[Object(a.jsx)("div",{className:z.a.dialogItems,children:t}),Object(a.jsx)("div",{className:z.a.messagesBlock,children:n}),Object(a.jsx)($,{onSubmit:function(t){e.addMessageAction(t.messageValue)}})]})},te=n(47),ne="ADD-MESSAGE",ae={dialogData:[{id:1,name:"Dimych",dialogAvaLink:"https://i.pinimg.com/236x/54/13/e2/5413e250d1eecb821fc49c3213d7d661--search.jpg"},{id:2,name:"Masha",dialogAvaLink:"https://bipbap.ru/wp-content/uploads/2018/02/1378847521_1806552374.jpg"},{id:3,name:"Sveta",dialogAvaLink:"https://sun9-17.userapi.com/impf/4WuzlR38g8VZ7SDAE26PZMvN8ymWBgFKfvnJcg/mh2Zr1zacro.jpg?size=200x0&quality=90&crop=22,0,560,580&sign=ce0a6e9cd38861cbf30a89d01eb50ce1&ava=1"},{id:4,name:"Saha",dialogAvaLink:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCo1Qx_f-i5jibEv8Aa7D5lOYSClFPsq6b8g&usqp=CAU"},{id:5,name:"Vadim",dialogAvaLink:"https://sun9-58.userapi.com/impf/c627624/v627624661/2fe3/b_qSlC2kZIo.jpg?size=200x0&quality=90&crop=0,0,501,604&sign=f020e3d674d8d1299729deee44221885&ava=1"}],messagesData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"What the fuck?"}]},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(b.a)(Object(b.a)({},e),{},{chengeMessage:"",messagesData:[].concat(Object(te.a)(e.messagesData),[{id:e.messagesData.length+1,message:t.message}])});default:return e}},se=n(11),ce=function(e){return{isAuth:e.auth.isAuth}},ie=function(e){var t=function(t){Object(d.a)(r,t);var n=Object(j.a)(r);function r(){return Object(u.a)(this,r),n.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(a.jsx)(e,Object(b.a)({},this.props)):Object(a.jsx)(se.a,{to:"/login"})}}]),r}(s.a.Component);return Object(O.b)(ce)(t)},oe=n(7),ue=Object(oe.d)(Object(O.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{addMessageAction:function(t){e(function(e){return{type:ne,message:e}}(t))}}})),ie)(ee),le="REPOST",de="UNREPOST",je={news:[{id:1,repost:!0,author:"\u0421\u0442\u0435\u043f\u0430\u043d \u041f\u0443\u0442\u0438\u043b\u043e",title:"\u0416\u044b\u0432\u0435 \u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c!",body:"\u041f\u0430\u0442\u0440\u0438\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043b\u043e\u0437\u0443\u043d\u0433-\u0434\u0435\u0432\u0438\u0437, \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043d\u0430 \u043f\u0440\u043e\u0431\u0443\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e-\u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0445 \u0447\u0443\u0432\u0441\u0442\u0432, \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0446\u0438\u044e \u043d\u0430\u0440\u043e\u0434\u0430 \u0411\u0435\u043b\u043e\u0440\u0443\u0441\u0441\u0438\u0438 \u043d\u0430 \u0437\u0430\u0449\u0438\u0442\u0443 \u0441\u0432\u043e\u0431\u043e\u0434\u044b, \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0432\u043e\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u044b, \u0440\u043e\u0434\u043d\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430, \u0432\u0441\u0435\u0439 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u044b.",image:"https://pbs.twimg.com/profile_images/637374236/305341222_400x400.jpg"},{id:2,repost:!1,author:"\u0412\u0438\u043a\u0442\u043e\u0440 \u0411\u0430\u0431\u0430\u0440\u0438\u043a\u043e",title:"\u041f\u043e\u0431\u0435\u0434\u0430 \u0431\u043b\u0438\u0437\u043a\u043e!",body:"\u0411\u0435\u043b\u043e\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0431\u0430\u043d\u043a\u0438\u0440, \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0438 \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c, \u0432 2020 \u0433\u043e\u0434\u0443 \u0432\u044b\u0434\u0432\u0438\u0433\u0430\u0432\u0448\u0438\u0439 \u0441\u0432\u043e\u044e \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0443\u0440\u0443 \u043d\u0430 \u043f\u043e\u0441\u0442 \u043f\u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u0430 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c, \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0437\u0430\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u0439, \u043c\u0435\u0446\u0435\u043d\u0430\u0442. \u0417\u0430\u0434\u0435\u0440\u0436\u0430\u043d 18 \u0438\u044e\u043d\u044f 2020.",image:"https://pbs.twimg.com/profile_images/1293684186470125568/_bp0VdeG_400x400.jpg"}]},be=function(e){return{type:le,userId:e}},pe=function(e){return{type:de,userId:e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(b.a)(Object(b.a)({},e),{},{news:e.news.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{repost:!0}):e}))});case de:return Object(b.a)(Object(b.a)({},e),{},{news:e.news.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{repost:!1}):e}))});default:return e}},he=n(93),me=n.n(he),Oe=function(e){var t=e.news.map((function(e){return Object(a.jsxs)("div",{className:me.a.news,children:[Object(a.jsx)("img",{src:e.image,alt:"newsimg"}),Object(a.jsx)("h3",{children:e.title}),Object(a.jsx)("div",{children:e.body}),Object(a.jsx)("div",{className:me.a.clear}),Object(a.jsx)("div",{children:e.author})]},e.id)}));return Object(a.jsx)("div",{children:t})},ge=Object(O.b)((function(e){return{news:e.newsPage.news}}),(function(e){return{repost:function(){e(be)},unrepost:function(){e(pe)}}}))(Oe),ve=n(135),xe=n.n(ve),_e=Object(W.a)({form:"musicForm"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{name:"lastName",component:"input",type:"text"})}),Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{name:"firstName",component:"input",type:"text"})}),Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{name:"email",component:"input",type:"email"})}),Object(a.jsx)("button",{type:"submit",children:"Submit"})]})})),ke=function(e){return Object(a.jsx)("div",{className:xe.a.music,children:Object(a.jsx)(_e,{onSubmit:function(e){console.log(e)}})})},Se=Object(W.a)({form:"login"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{placeholder:"Email",name:"email",component:K,validate:[Y]})}),Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{placeholder:"Password",name:"password",component:K,validate:[Y],type:"password"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{type:"checkbox",name:"remembeMe",component:K}),Object(a.jsx)("span",{children:"remember me"})]}),e.captcha&&Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:e.captcha,alt:"captcha"}),Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{placeholder:"captcha",name:"captcha",component:K,validate:[Y]})})]}),Object(a.jsxs)("div",{children:[e.error&&Object(a.jsx)("div",{className:B.a.errorLogin,children:e.error}),Object(a.jsx)("button",{children:"Login"})]})]})})),we=Object(oe.d)(Object(O.b)((function(e){return{isAuth:e.auth.isAuth,captchaURL:e.auth.captchaURL}}),{loginUserThunk:function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){var a,r,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.loginUser(e);case 2:0===(a=t.sent).data.resultCode?n(A()):(10===a.data.resultCode&&n(T()),r=a.data.messages.length>0?a.data.messages:"some error",s=Object(_.a)("login",{_error:r}),n(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){return e.isAuth?Object(a.jsx)(se.a,{to:"/Profile"}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)(Se,{onSubmit:function(t){e.loginUserThunk(t)},captcha:e.captchaURL})]})})),ye=n(41),Ne=n(136),Pe=n.n(Ne),Ce="SET_CHOISE_SUMM",Ae={choiseSumm:""},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(b.a)(Object(b.a)({},e),{},{choiseSumm:t.summ});default:return e}},Le=Object(O.b)((function(e){return{summ:e.setting.choiseSumm}}),{setSummAC:function(e){return{type:Ce,summ:e}}})((function(e){var t=Object(r.useState)(0),n=Object(ye.a)(t,2),s=n[0],c=n[1];return Object(a.jsxs)("div",{className:Pe.a.settings,children:[Object(a.jsxs)("h1",{children:["Your Choise: ",Object(a.jsx)("span",{children:e.summ})]}),Object(a.jsxs)("div",{children:["Current summ value: ",Object(a.jsx)("span",{children:s})]}),Object(a.jsx)("input",{type:"range",min:"0",max:"100",value:s,onChange:function(e){c(e.currentTarget.value)}}),Object(a.jsx)("button",{onClick:function(t){e.setSummAC(s)},children:"Confirm"}),Object(a.jsx)("button",{onClick:function(){e.setSummAC(0)},children:"Clear"})]})})),Ue=n(137),Ie=n.n(Ue),De="profile/ADD-POST",Ee="profile/SET_USER_PROFILE",Fe="profile/SET_STATUS",Re="SAVE_PHOTO_SUCCES",Me="SAVE_PROFILE",ze={postsData:[{id:1,message:"Hi, bro..,",likeNumb:"32",avaLink:"https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg"},{id:2,message:"Hello world!",likeNumb:"20",avaLink:"https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg"}],userProfile:null,status:""},qe=function(e){return{type:Fe,status:e}},Ve=function(e){return function(t){k.d.getUserProfile(e).then((function(e){var n;t((n=e.data,{type:Ee,userProfile:n}))}))}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:var n={id:5,message:t.postMessage,likeNumb:0,avaLink:"https://i.pinimg.com/170x/a1/9b/83/a19b83023cdb650a17623bf6bf456245.jpg"},a=Object(b.a)(Object(b.a)({},e),{},{postsdata:Object(te.a)(e.postsData)});return a.postsData.push(n),a;case Ee:return Object(b.a)(Object(b.a)({},e),{},{userProfile:t.userProfile});case Fe:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case Re:case Me:return Object(b.a)(Object(b.a)({},e),{},{userProfile:Object(b.a)(Object(b.a)({},e.userProfile),{},{photos:t.photos})});default:return e}},We=n(138),He=n.n(We),Ze=n(139),Be=n.n(Ze),Je=function(e){return Object(a.jsxs)("div",{className:Be.a.post,children:[Object(a.jsx)("img",{alt:"ava",src:e.avalink}),e.message,Object(a.jsxs)("div",{children:["Like",Object(a.jsx)("span",{children:"  "}),Object(a.jsx)("span",{children:e.likenumb})]})]})},Ke=Q(30),Ye=Object(W.a)({form:"posts"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{name:"postMessage",component:J,placeholder:"write here",validate:[Y,Ke]})}),Object(a.jsx)("button",{children:"add post"})]})})),Qe=function(e){var t=e.contentPage.postsData.map((function(e){return Object(a.jsx)(Je,{message:e.message,likenumb:e.likeNumb,avalink:e.avaLink},e.id)}));return Object(a.jsxs)("div",{className:He.a.posts,children:["My posts",Object(a.jsx)(Ye,{onSubmit:function(t){e.addPostAction(t.postMessage)}}),t]})},Xe=Object(O.b)((function(e){return{contentPage:e.contentPage}}),(function(e){return{addPostAction:function(t){e(function(e){return{type:De,postMessage:e}}(t))}}}))(Qe),$e=n(43),et=n(37),tt=n.n(et),nt=n(126),at=function(e){var t=Object(r.useState)(!1),n=Object(ye.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(e.status),o=Object(ye.a)(i,2),u=o[0],l=o[1];return Object(r.useEffect)((function(){l(e.status)}),[e.status]),Object(a.jsxs)("div",{className:tt.a,children:[!s&&Object(a.jsx)("div",{children:Object(a.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status?e.status:"Not status"})}),s&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){c(!1),e.updateStatusThunk(u)},value:u})})]})},rt=Object(W.a)({form:"ProfileData"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(a.jsx)("div",{className:B.a.errorLogin,children:e.error}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full name:"}),Object(a.jsx)(G.a,{placeholder:"Full name",name:"fullName",component:K})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About me:"}),Object(a.jsx)(G.a,{placeholder:"About me",name:"aboutMe",component:K,type:"text"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job:"}),Object(a.jsx)(G.a,{type:"checkbox",name:"lookingForAJob",component:K})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Skills:"}),Object(a.jsx)(G.a,{placeholder:"skils",name:"lookingForAJobDescription",component:J,type:"text"})]}),Object(a.jsxs)("div",{children:[" Contacts:",Object.keys(e.profile.contacts).map((function(e){return Object(a.jsxs)("div",{className:tt.a.contacts,children:[e,Object(a.jsx)(G.a,{placeholder:e,name:"contacts."+e,component:K})]},e)}))]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Save"})})]})})),st=function(e){var t=e.contactTitle,n=e.contactValue;return Object(a.jsxs)("div",{children:[t," : ",n]})},ct=function(e){return Object(a.jsxs)("div",{children:[e.isOwner&&Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){e.goToEditMode()},children:"edit"})}),Object(a.jsx)("div",{children:e.profile.aboutMe}),Object(a.jsxs)("div",{children:["\u043d\u0443\u0436\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430: ",e.profile.lookingForAJob?"Yes":"No"," "]}),e.profile.lookingForAJob&&Object(a.jsxs)("div",{children:["\u041d\u0430\u0432\u044b\u043a\u0438: ",e.profile.lookingForAJobDescription," "]}),Object(a.jsxs)("div",{className:tt.a.contacts,children:[" Contacts:",Object.keys(e.profile.contacts).map((function(t){return Object(a.jsx)(st,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})},it=function(e){var t=Object(r.useState)(!1),n=Object(ye.a)(t,2),s=n[0],c=n[1];if(!e.profile)return Object(a.jsx)($e.a,{});return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:tt.a.avatar,alt:"ava",src:null!=e.profile.photos.large?e.profile.photos.large:nt.a}),Object(a.jsx)("h3",{children:e.profile.fullName}),Object(a.jsx)(at,{status:e.status,updateStatusThunk:e.updateStatusThunk}),Object(a.jsx)("div",{className:tt.a.clear}),e.isOwner&&Object(a.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhotoThunk(t.target.files[0])}}),s?Object(a.jsx)(rt,{onSubmit:function(t){e.setFormDataThunk(t).then((function(){c(!1)}))},initialValues:e.profile,profile:e.profile}):Object(a.jsx)(ct,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){c(!0)}})]})})},ot=function(e){return Object(a.jsxs)("div",{className:Ie.a.content,children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:"decorate",src:"https://apod.nasa.gov/apod/image/2008/PerseidBridge_Zhang_4032.jpg"})}),Object(a.jsx)(it,{profile:e.profile,status:e.status,updateStatusThunk:e.updateStatusThunk,isOwner:e.isOwner,savePhotoThunk:e.savePhotoThunk,setFormDataThunk:e.setFormDataThunk}),Object(a.jsx)(Xe,{store:e.store})]})},ut=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfileThunk(e),this.props.getStatusThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(a.jsx)(ot,Object(b.a)(Object(b.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId}))}}]),n}(s.a.Component),lt=Object(oe.d)(Object(O.b)((function(e){return{profile:e.contentPage.userProfile,status:e.contentPage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfileThunk:Ve,getStatusThunk:function(e){return function(t){k.b.getStatus(e).then((function(e){t(qe(e.data))}))}},updateStatusThunk:function(e){return function(t){k.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(qe(e))}))}},savePhotoThunk:function(e){return function(t){k.b.savePhoto(e).then((function(e){var n;0===e.data.resultCode&&t((n=e.data.data.photos,{type:Re,photos:n}))}))}},setFormDataThunk:function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n,a){var r,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,k.b.saveProfile(e);case 3:if(0!==(s=t.sent).data.resultCode){t.next=8;break}n(Ve(r)),t.next=10;break;case 8:return n(Object(_.a)("ProfileData",{_error:s.data.messages[0]})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),se.g,ie)(ut),dt="INITIALIZED_SUCCESS",jt={inizialized:!1},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return Object(b.a)(Object(b.a)({},e),{},{inizialized:!0});default:return e}},pt=function(e){return function(t){return Object(a.jsx)(s.a.Suspense,{fallback:Object(a.jsx)($e.a,{}),children:Object(a.jsx)(e,Object(b.a)({},t))})}},ft=s.a.lazy((function(){return n.e(3).then(n.bind(null,301))})),ht=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){var e=this;return this.props.initialized?Object(a.jsxs)("div",{className:"app-wrapper",children:[Object(a.jsx)(I,{}),Object(a.jsx)(R,{state:this.props.state}),Object(a.jsx)("div",{className:"app-wrapper-content",children:Object(a.jsxs)(se.d,{children:[Object(a.jsx)(se.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(se.a,{to:"/profile"})}}),Object(a.jsx)(se.b,{path:"/profile/:userId?",render:function(){return Object(a.jsx)(lt,{})}}),Object(a.jsx)(se.b,{path:"/dialogs",render:function(){return Object(a.jsx)(ue,{state:e.props.state})}}),Object(a.jsx)(se.b,{path:"/news",render:function(){return Object(a.jsx)(ge,{})}}),Object(a.jsx)(se.b,{path:"/music",render:function(){return Object(a.jsx)(ke,{})}}),Object(a.jsx)(se.b,{path:"/settings",render:function(){return Object(a.jsx)(Le,{})}}),Object(a.jsx)(se.b,{path:"/users",render:pt(ft)}),Object(a.jsx)(se.b,{path:"/login",render:function(){return Object(a.jsx)(we,{})}}),Object(a.jsx)(se.b,{path:"*",render:function(){return Object(a.jsx)("div",{children:"404 NOT FOUND"})}})]})})]}):Object(a.jsx)($e.a,{})}}]),n}(s.a.Component),mt=Object(oe.d)(Object(O.b)((function(e){return{initialized:e.app.inizialized}}),{initializeAppThunk:function(){return function(e){e(A()).then((function(){e({type:dt})}))}}}),se.g)(ht),Ot={bestFriends:[{id:1,name:"Dimych",dialogAvaLink:"https://i.pinimg.com/236x/54/13/e2/5413e250d1eecb821fc49c3213d7d661--search.jpg"},{id:2,name:"Masha",dialogAvaLink:"https://bipbap.ru/wp-content/uploads/2018/02/1378847521_1806552374.jpg"},{id:3,name:"Sveta",dialogAvaLink:"https://sun9-17.userapi.com/impf/4WuzlR38g8VZ7SDAE26PZMvN8ymWBgFKfvnJcg/mh2Zr1zacro.jpg?size=200x0&quality=90&crop=22,0,560,580&sign=ce0a6e9cd38861cbf30a89d01eb50ce1&ava=1"}]},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return e},vt=n(96),xt=n(140),_t=n(129),kt=Object(oe.c)({contentPage:Ge,messagesPage:re,bestFriends:gt,usersPage:vt.a,newsPage:fe,auth:L,form:_t.a,app:bt,setting:Te}),St=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,wt=Object(oe.e)(kt,St(Object(oe.a)(xt.a)));window.store=wt;var yt=wt,Nt=function(){i.a.render(Object(a.jsx)(p.a,{basename:"/SocialNetwork",children:Object(a.jsx)(O.a,{store:yt,children:Object(a.jsx)(mt,{state:yt.getState()})})}),document.getElementById("root"))};Nt(),yt.subscribe((function(){Nt()})),o()},36:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__13O1d",dialogItems:"Dialogs_dialogItems__1bvhd",dialog:"Dialogs_dialog__2XPZq",messagesBlock:"Dialogs_messagesBlock__3VQKH",message:"Dialogs_message__3AsAi"}},37:function(e,t,n){e.exports={content:"ProfileInfo_content__DyR0c",avatar:"ProfileInfo_avatar__14i1w",clear:"ProfileInfo_clear__2K0gG",contacts:"ProfileInfo_contacts__3q13R"}},43:function(e,t,n){"use strict";var a=n(0),r=(n(1),n(94)),s=n.n(r);t.a=function(e){return Object(a.jsx)("div",{className:s.a.wrapperSpin,children:Object(a.jsxs)("div",{className:s.a.ldsRipple,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})}},87:function(e,t,n){e.exports={header:"Header_header__1mvba",login:"Header_login__yl84q"}},93:function(e,t,n){e.exports={news:"News_news__16vR8",clear:"News_clear__29u6V"}},94:function(e,t,n){e.exports={wrapperSpin:"preloader_wrapperSpin__QsBk-",ldsRipple:"preloader_ldsRipple__1xFyQ","lds-ripple":"preloader_lds-ripple__1l7Y-"}},96:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return _})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"i",(function(){return y}));var a=n(12),r=n.n(a),s=n(21),c=n(47),i=n(3),o=n(16),u="FOLLOW",l="UNFOLLOW",d="SET_USERS",j="SET_CURRENT_PAGE",b="SET_USER_TOTAL_COUNT",p="TOGGLE_IS_FETCHING",f="TOGGLE_IS_FOLLOWING_PROGRESS",h={users:[],currentPage:1,pageSize:4,usersTotalCount:0,isFetching:!1,followingProgress:[]},m=function(e){return{type:u,userId:e}},O=function(e){return{type:l,userId:e}},g=function(e){return{type:d,users:e}},v=function(e){return{type:j,pageNumber:e}},x=function(e){return{type:p,isFetching:e}},_=function(e,t){return{type:f,followingProgress:e,userId:t}},k=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(x(!0)),n.next=3,o.d.getUsers(e,t);case 3:s=n.sent,a(x(!1)),a(g(s.items)),a((r=s.totalCount,{type:b,totalUser:r}));case 7:case"end":return n.stop()}var r}),n)})));return function(e){return n.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(v(e)),a(x(!0)),n.next=4,o.d.getUsers(e,t);case 4:s=n.sent,a(x(!1)),a(g(s.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.next=3,o.d.followUser(e);case 3:0===t.sent.data.resultCode&&n(m(e)),n(_(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.next=3,o.d.unfollowUser(e);case 3:0===t.sent.data.resultCode&&n(O(e)),n(_(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case l:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case j:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.pageNumber});case b:return Object(i.a)(Object(i.a)({},e),{},{usersTotalCount:t.totalUser});case p:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case f:return Object(i.a)(Object(i.a)({},e),{},{followingProgress:t.followingProgress?[].concat(Object(c.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}}}},[[297,1,2]]]);
//# sourceMappingURL=main.2b25dde6.chunk.js.map